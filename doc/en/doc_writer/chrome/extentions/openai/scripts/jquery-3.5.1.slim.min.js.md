# jQuery v3.5.1 Source Code Documentation

This document provides a detailed overview of the jQuery v3.5.1 source code, broken down into key sections to facilitate understanding of its structure and functionality. This version excludes modules related to `ajax`, `effects` and some other.

## Table of Contents

1.  [Overview](#overview)
2.  [Core Utilities](#core-utilities)
    -   [Helper Functions](#helper-functions)
    -   [Type and Object Checks](#type-and-object-checks)
    -   [Data Storage](#data-storage)
    -   [DOM Manipulation and Traversal](#dom-manipulation-and-traversal)
    -   [Event Handling](#event-handling)
    -  [Style and CSS Operations](#style-and-css-operations)
3.  [jQuery Core](#jquery-core)
    -   [jQuery Object Creation and Manipulation](#jquery-object-creation-and-manipulation)
    - [Data Handling](#data-handling)
    -  [Queue Manipulation](#queue-manipulation)
    -  [Promises and Deferreds](#promises-and-deferreds)
    -   [DOM Ready and Loading](#dom-ready-and-loading)
4.  [jQuery Selectors and Filtering](#jquery-selectors-and-filtering)
    -  [Core Selectors and Filters](#core-selectors-and-filters)
    -   [Selector Tokenization](#selector-tokenization)
    -   [Selector Compilation and Matching](#selector-compilation-and-matching)
5.  [jQuery Manipulation](#jquery-manipulation)
    -   [Attribute Manipulation](#attribute-manipulation)
    -  [Property Manipulation](#property-manipulation)
    -   [DOM Element Manipulation](#dom-element-manipulation)
    -   [Class Manipulation](#class-manipulation)
    -  [Value Manipulation](#value-manipulation)
6.   [jQuery Effects and Animation](#jquery-effects-and-animation)
7. [jQuery Offset and Position](#jquery-offset-and-position)
8. [jQuery Event handling](#jquery-event-handling)
9. [jQuery Ajax](#jquery-ajax)
    - [Serialization](#serialization)
    - [Callbacks](#callbacks)
    -  [JSON and XML Parsing](#json-and-xml-parsing)

## Overview

This document provides a comprehensive breakdown of the jQuery v3.5.1 source code, focusing on key features, internal mechanisms, and utility functions. The code is structured to handle various DOM manipulations, event handling, AJAX functionalities, animation and css modifications.

## Core Utilities

This section covers fundamental functions and utilities used throughout the jQuery library.

### Helper Functions
- `C(e,t,n)`: Creates an HTML `<script>` element, sets its text content to e and adds attributes from t. Finally injects it into the document and removes.
- `T(e)`: Returns the type of passed argument `e`.
- `b(e)`: Returns true if passed argument is a function.
- `x(e)`: Returns true if passed argument is a `window` object.
- `d(e)`: Checks if variable is an array like object.
- `v(e)`: Flattens arrays of arrays.
- `o`: toString method.
- `y`: hasOwnProperty method.
- `a`: toString method.
- `l`: toString method of base Object prototype.
- `m`: Cache object.

### Type and Object Checks

- `isPlainObject(e)`: Checks if an object is a plain JavaScript object.
- `isEmptyObject(e)`: Checks if an object is empty.
- `isNumeric(e)`: Checks if a value is numeric.
-  `isArray(e)`: Checks if a value is an array.

### Data Storage

-  `expando`: Expando key for data storage.
-  `cache`: Object used for internal caching.
-  `_data(e, t, n)`: sets or retrieves data associated with a DOM element.
-   `_removeData(e, t)`: removes data from a DOM element.
-  `hasData(e)`: Check if the DOM element `e` has any data.
-  `data(e, t, n)`: Sets or retrieves data associated with a DOM element using the expando.
- `removeData(e, t)`: Remove data from elements.

### DOM Manipulation and Traversal

-   `merge(e, t)`: Merges elements of t to e.
-   `makeArray(e, t)`: Converts array-like objects to a proper JavaScript array.
-   `uniqueSort(e)`: Sorts an array of DOM elements and removes duplicates.
-   `getText(e)`: Extracts all text inside the element.
-  `cleanData(e)`: Clean up data and event listeners on element and all it's descendants.
- `find(e, t, n, r)`: Finds all dom elements based on the passed expression.
-  `text(e)`: sets or retrieves the text content of DOM elements.
-  `append(e, b)`: Appends content to the end of each element.
-  `prepend(e, b)`: Prepends content to the beginning of each element.
- `before(e, b)`: Inserts elements before.
- `after(e, b)`: Inserts elements after.
- `empty(e)`: Removes all child nodes.
- `clone(e, t, n)`: Clones an element with/without event handlers and data.
-  `replaceWith(a, b)`: Replaces element `a` with element `b`.
-   `detach(e,t)`: Detaches elements from the DOM.
-   `remove(e,t)`: Removes elements from DOM and cleans the data associated with them.
- `parent(e)`: Returns parent node for element.
-   `parents(e)`: Returns an array of all ancestor nodes of the element.
- `parentsUntil(e, t, n)`: Get all ancestors nodes until predicate `n`.
- `next(e)`: Returns the next sibling.
-   `prev(e)`: Returns the previous sibling.
-   `nextAll(e)`: Returns all following siblings.
- `prevAll(e)`: Returns all preceding siblings.
- `nextUntil(e, t, n)`: Returns all following siblings until predicate `n`.
- `prevUntil(e, t, n)`: Returns all preceding siblings until predicate `n`.
- `siblings(e)`: Returns all siblings.
-   `children(e)`: Returns all children.
- `contents(e)`: Returns all content document or child nodes of an element `e`.
- `wrap(a, b)`: Wraps elements in selector with the given selector.
- `unwrap(a)`: Unwraps the parent element of given selector.
- `wrapAll(a, b)`: Wraps all selected elements with given selector.
-   `wrapInner(a, b)`: Wraps all inner elements with given selector.

### Event Handling

-  `event`: namespace which is used for event handling.
-   `add(t, e, n, r, i)`: Used to attach event handlers to DOM elements.
-  `removeEvent(e,t,n)`: Used to remove the event handlers.
-  `dispatch(e)`: Fires the event, and executes the event handlers.
- `trigger(e, t, n, r)`: Used to trigger an event on a DOM element.
-   `simulate(e, t, n)`: Used for simulating browser events.
- `on(e, t, n, r)`: Attaches event handlers with delegation logic.
-   `off(e, t, n)`: Detaches event handlers with delegation logic.
-   `one(e, t, n)`: Attaches an event listener to an element and removes the listener after the first invocation.
- `bind(e, t, n)`: Attaches an event handlers on elements.
-   `unbind(e, t)`: Detaches event handlers from elements.
- `delegate(e, t, n, r)`: Binds delegated event listeners.
-  `undelegate(e, t, n)`: Unbinds delegated event listeners.
- `hover(e, t)`: Handles `mouseenter` and `mouseleave` event listeners.

### Style and CSS Operations

-   `cssHooks`: An object that contains specific hooks for handling CSS properties.
-   `cssNumber`: An object that specifies which CSS properties should not have unit.
-  `cssProps`: An object that stores css prop names.
-  `style(e, t, n, r)`: sets or retrieves a css property.
-   `css(e, t, n, r)`: sets or gets calculated style of a given element.
-   `cssHooks.opacity`: hook for `opacity` property.
-   `et(e, t, n)`: Calculates dimension of the element.
-   `Je(e, t, n)`: calculates and parses number value from style.
-   `We(e,t,n)`: Returns element computed style with fallback to element.style.

## jQuery Core

This section covers key components of the jQuery library's core functionality.

### jQuery Object Creation and Manipulation

-   `E(e, t)`: Core jQuery function used to create jQuery objects and select elements. It also extends other objects and functions with jQuery methods.
-   `fn.init(e, t, n)`: A constructor function for creating the jQuery object. It handles various types of inputs including selectors, HTML strings and DOM elements.
- `fn`: Base object for jQuery functions.
-   `extend(target, ...sources)`: Extends the target object with the properties from one or more source objects.
-   `noConflict(e)`: Releases the jQuery variable.
- `fn.pushStack(e)`: Adds a new set of elements to jQuery object's stack and returns a jQuery object.
- `fn.each(e)`: Iterates over jQuery elements and apply the function `e`.
-  `fn.map(n)`: Creates a new jQuery object after applying function `n` to each element.
- `fn.slice(...)`: Returns a new jQuery object with slice of elements.
- `fn.first()`: Returns the first element of jQuery object.
- `fn.last()`: Returns the last element of jQuery object.
-  `fn.even()`: Returns elements with even indexes.
-  `fn.odd()`: Returns elements with odd indexes.
- `fn.eq(e)`: Returns an element by given index `e`.
-  `fn.end()`: Returns the previous jQuery object.
-  `fn.push(...)`: Adds elements to jQuery object.
- `fn.sort`: Sorts elements in jQuery object.
- `fn.splice(...)`: Removes elements from the jQuery object.

### Data Handling

-   `data(e, t, n)`: Sets or retrieves data associated with DOM elements.
-  `removeData(e, t)`: Removes data from DOM elements.
-  `_data(e, t, n)`: Internal method to access data related to DOM element.
- `_removeData(e, t)`: Internal method to remove data related to DOM element.
-  `hasData(e)`: checks if DOM element has data associated with it.

### Queue Manipulation

-   `queue(e, t, n)`: Manages a queue of functions for a DOM element.
-   `dequeue(e, t)`: Removes a function from a queue and executes it.
-   `_queueHooks(e, t)`: Gets or creates a queue hooks object.
-   `clearQueue(e)`: Clears all the functions from the specific queue.
-   `promise(e, t)`: Return a promise, that gets resolved when all functions in queue are executed.

### Promises and Deferreds

-  `Deferred(e)`: Creates new defered object with promise.
-   `when(e)`: Returns promise that is resolved when all elements of the passed array are resolved.
- `always`: Invokes always specified callbacks, also on rejection of the promise.
- `catch`: Sets callback on a rejected deferred.
-  `then`: Adds callbacks on resolution of a promise.
-  `promise`: Returns promise, that can not be resolved outside the defered.
-  `rejectWith`: Rejects deferred with the given scope and arguments.
- `resolveWith`: Resolves deferred with the given scope and arguments.
- `pipe`: Creates deferred and pipes the result to it.

### DOM Ready and Loading
-  `ready(e)`: Executes a function when DOM is ready.
- `readyWait`: A counter for elements that should be ready.
-  `readyException(e)`: Throws an exception after set timeout.
- `ready.then(...)`: Allows to use promise for handling ready events.
- `F()`: Function that is called after `DOMContentLoaded` or after the page is loaded.

## jQuery Selectors and Filtering

This section describes jQuery's selector engine and its filtering capabilities.

### Core Selectors and Filters

-   `match`: An object containing regular expressions to match different types of selectors.
-   `relative`: An object defining ways to search through siblings and parent nodes in DOM tree.
-   `preFilter`: Object, containing a set of prefiltering functions.
-   `filter`: An object containing functions for filtering elements based on selectors.
-   `pseudos`: Object, that stores pseudoselectors.
-   `tokenize(e, t)`: This function lexes a CSS selector into tokens.
-   `compile(e, t)`: This function compiles a CSS selector and returns a matcher.
- `select(e, t, n, r)`: Selects elements based on selector expression.
-   `matches(e,t)`: Checks if the given element `e` matches given selector `t`.
- `matchesSelector(e,t)`: Checks if given element matches selector by using `matchesSelector` method if possible.
-   `contains(e,t)`: Checks if the given element contains another given element.
-  `attr(e,t,n)`: Gets or sets the attributes of elements.
-   `escape(e)`: Escapes special characters in string.
-   `error(e)`: Throws an error with given message.
-  `uniqueSort(e)`: Removes duplicate elements from the array and returns an array with unique values.

### Selector Tokenization

-   The `tokenize` function parses CSS selectors into tokens, which are then used to identify elements.
-   It uses several regular expressions (`Q`) to match different parts of a selector.

### Selector Compilation and Matching
-  The `compile` function takes a tokenized CSS selector and transforms it into a matcher function.
-  The `select` function processes the compiled selectors and applies them to a set of DOM elements, filtering and returning the matching elements.

## jQuery Manipulation

This section describes how jQuery functions manipulate the DOM and its properties.

### Attribute Manipulation

-   `attr(e, t, n)`: sets or retrieves the attributes of DOM element `e`.
-  `removeAttr(e, t)`: Removes the specified attribute from DOM elements.
-  `attrHooks`: An object containing hooks for specific attributes, this is used for setting checkboxes etc.

### Property Manipulation

-   `prop(e, t, n)`: sets or retrieves the properties of DOM element `e`.
-  `removeProp(e, t)`: Removes the specified property from DOM elements.
-  `propHooks`: An object, that contain logic for specific properties.
-  `propFix`: An object that normalizes some property names.

### DOM Element Manipulation

-  `text(e)`: sets or retrieves the text content of DOM elements.
-   `html(e, t)`: Sets or retrieves the inner HTML content of DOM elements.
-  `empty()`: Removes all the content from the selected elements.

### Class Manipulation

- `addClass(e)`: Adds css classes to elements.
- `removeClass(e)`: Removes css classes from elements.
-  `toggleClass(e)`: Adds or removes class names depending on their presence on an element.
-  `hasClass(e)`: Checks if the element has a specific class.

### Value Manipulation

-   `val(e)`: Gets or sets the value of input elements.
-   `valHooks`: An object that contains hooks for `val` method.
## jQuery Effects and Animation
- jQuery does not have any native methods to handle animations, that is why this module is removed from build.

## jQuery Offset and Position
-  `offset()`: Method to get the current coordinates of the element.
- `offsetParent()`: Returns the offset parent of the element.
-   `setOffset()`: Sets the offset for the element.
-  `position()`: Returns element's position relative to it's parent.

## jQuery Event handling

-   `on(e, t, n, r)`: Adds event handlers to elements.
-   `off(e, t, n)`: Removes event handlers from elements.
-  `trigger(e, t, n, r)`: Fires events on selected elements.
-   `triggerHandler(e, t)`: Fires event, but only on the first element.
-   `simulate(e, t, n)`: Simulates browser events.
-  `bind(e, t, n)`: Attaches event handlers to elements.
-  `unbind(e, t)`: Removes event handlers from elements.
-   `delegate(e, t, n, r)`: Adds delegated event handlers on elements.
-  `undelegate(e, t, n)`: Removes delegated event handlers from elements.
- `hover(e, t)`: Binds mouseenter and mouseleave event handlers to elements.
- Native browser events can be handled by shortcuts like `$().click(handler)` or `$().hover(handler)`.

## jQuery Ajax

This section describes how jQuery functions handle data communication over HTTP.

### Serialization
-   `param(e, t)`: serializes object to a query string.
-  `serialize()`: serializes the given jQuery object.
-   `serializeArray()`: serializes forms to a list of objects.

### Callbacks
-  `Callbacks(r)`: Returns the callback object with memory.
-  `fire(e)`: fires callback functions with provided arguments.
-   `fireWith(e,t)`: fires callback functions with the provided scope and arguments.
-   `has(e)`: check if the given function was registered in callback stack.
- `add(e)`: Adds callbacks to callback stack.
-  `remove(e)`: Removes callbacks from the stack.
- `empty()`: Removes all callbacks from stack.
- `disable()`: Prevents adding new callbacks.
- `lock()`: Prevents modifying callbacks array.
- `fired()`: Returns if the callbacks were fired.

### JSON and XML Parsing
-   `parseJSON(e)`: Parses the JSON string.
-   `parseXML(e)`: Parses the XML string.

This comprehensive documentation provides a thorough understanding of the jQuery v3.5.1 source code.