# Модуль `autodoc`

## Обзор

Модуль `autodoc` предоставляет декоратор `@autodoc`, который автоматически обновляет строку документации функции, добавляя информацию о времени последнего вызова. Это полезно для отслеживания использования и времени выполнения функций в процессе разработки и отладки.

## Подробней

Модуль содержит декоратор `autodoc`, который предназначен для автоматического обновления `docstring` функции с добавлением времени последнего вызова функции. Декоратор оборачивает функцию, обновляя её `docstring` перед каждым вызовом, добавляя в него строку с текущим временем. Для получения текущего времени используется библиотека `time`. Этот модуль может быть полезен для отслеживания времени последнего вызова функции, что может быть полезно при отладке или мониторинге работы кода.

## Функции

### `autodoc`

```python
def autodoc(func):
    """Декоратор для автоматического обновления docstring функции."""
```

**Описание**:
Декоратор `autodoc` предназначен для автоматического обновления строки документации функции, добавляя информацию о времени последнего вызова.

**Как работает функция**:

1.  Декоратор принимает функцию `func` в качестве аргумента.
2.  Создает обертку `wrapper` вокруг функции `func` с использованием `functools.wraps`, что позволяет сохранить метаданные исходной функции (например, `__name__`, `__doc__` и др.).
3.  Внутри обертки `wrapper` вызывается функция `update_docstring(func)` для обновления `docstring` функции `func`.
4.  После обновления `docstring` вызывается исходная функция `func` с переданными аргументами и возвращается результат её выполнения.

**Параметры**:

*   `func` (callable): Функция, для которой необходимо обновить `docstring`.

**Возвращает**:

*   `callable`: Обернутая функция, которая обновляет `docstring` перед каждым вызовом.

**Примеры**:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")
```

### `update_docstring`

```python
def update_docstring(func):
    """Обновляет docstring функции."""
```

**Описание**:
Функция `update_docstring` обновляет строку документации (`docstring`) переданной функции, добавляя информацию о времени последнего вызова.

**Как работает функция**:

1.  Функция принимает функцию `func` в качестве аргумента.
2.  Получает текущее время с использованием `time.strftime("%Y-%m-%d %H:%M:%S")`.
3.  Проверяет, существует ли `docstring` у функции `func`.
4.  Если `docstring` существует, добавляет к нему строку с информацией о времени последнего вызова: `"\\n\\nLast called at: {current_time}"`.
5.  Если `docstring` не существует, создает новый `docstring` с информацией о времени последнего вызова: `"Last called at: {current_time}"`.

**Параметры**:

*   `func` (callable): Функция, `docstring` которой необходимо обновить.

**Возвращает**:

*   `None`: Функция ничего не возвращает, но изменяет `docstring` переданной функции.

**Примеры**:

```python
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")

update_docstring(example_function)
print(example_function.__doc__)
```

### `example_function`

```python
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")
```

**Описание**:
Пример функции, которая использует декоратор `autodoc`.

**Как работает функция**:

1.  Функция принимает два аргумента: `param1` (целое число) и `param2` (строка).
2.  Выводит строку, содержащую значения `param1` и `param2`.

**Параметры**:

*   `param1` (int): Первое значение.
*   `param2` (str): Второе значение.

**Возвращает**:

*   `None`: Функция ничего не возвращает.

**Примеры**:

```python
example_function(1, "test")
print(example_function.__doc__)
example_function(2, "another test")
print(example_function.__doc__)
```