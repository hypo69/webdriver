# Модуль для скачивания файлов

## Обзор

Модуль содержит функцию `download_file`, предназначенную для скачивания файлов из интернета по заданному URL-адресу и сохранения их в указанном месте на диске. Это полезно для автоматизации загрузки данных и ресурсов в проекте `hypotez`.

## Подробней

Этот модуль предоставляет простой способ загрузки файлов из сети, используя библиотеку `requests`. Он обрабатывает ответ от сервера, проверяет на успешность загрузки и сохраняет содержимое файла на диск небольшими частями, чтобы избежать проблем с памятью при работе с большими файлами.
Расположение файла в проекте `hypotez/src/utils/file_downloader.py` говорит о том, что он является частью утилитного функционала, используемого для скачивания различных файлов, например, конфигурационных или ресурсных файлов.

## Функции

### `download_file`

```python
def download_file(url, destination):
    """ Функция для скачивания файла по указанному URL и сохранения его на диск.
    Args:
        url (str): URL-адрес файла для скачивания.
        destination (str): Путь к файлу, под которым он будет сохранен на диске.
    Raises:
        ConnectionError: Если не удается установить соединение с сервером.
        HTTPError: Если сервер возвращает ошибку HTTP.
    """
```

**Назначение**: Скачивает файл по указанному URL и сохраняет его локально.

**Параметры**:

-   `url` (str): URL-адрес файла, который нужно скачать.
-   `destination` (str): Путь к файлу, куда будет сохранено скачанное содержимое.

**Возвращает**:

-   None

**Вызывает исключения**:

-   `requests.exceptions.RequestException`: В случае проблем с HTTP-запросом.

**Как работает функция**:

1.  Функция `download_file` принимает URL-адрес файла и путь для сохранения файла.
2.  Отправляет GET-запрос на указанный URL с параметром `stream=True`, что позволяет загружать файл частями.
3.  Проверяет код ответа HTTP. Если код равен 200 (OK), то продолжает загрузку.
4.  Открывает файл в бинарном режиме для записи (`'wb'`).
5.  Читает содержимое ответа небольшими частями (chunk_size=1024 байта) и записывает их в файл.
6.  Выводит сообщение об успешной загрузке или сообщение об ошибке, если код ответа не равен 200.

**ASII flowchart**:

```
A [Начало: Прием URL и пути сохранения]
|
B [Отправка GET запроса с stream=True]
|
C [Проверка кода ответа (200?)]
|
D [Открытие файла для записи в бинарном режиме]
|
E [Цикл: Чтение файла по частям и запись в файл]
|
F [Вывод сообщения об успехе или ошибке]
|
G [Конец]
```

**Примеры**:

```python
# Пример использования функции: скачивание файла по URL
file_url = 'https://example.com/path/to/file.txt'  # URL файла для скачивания
save_as = 'downloaded_file.txt'  # Имя файла, под которым он будет сохранен на диске
download_file(file_url, save_as)  # Вызов функции скачивания файла