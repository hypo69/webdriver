# Модуль для конвертации DOT файлов в PNG изображения
=======================================================

Модуль `dot.py` предоставляет функциональность для преобразования файлов в формате DOT (Graphviz) в PNG изображения. Он использует библиотеку `graphviz` для рендеринга графов, определенных в формате DOT, в графические файлы PNG.

## Обзор

Этот модуль предназначен для автоматического создания визуализаций графов из их текстового представления. Он может быть использован для генерации изображений графов, диаграмм и других визуальных представлений, описанных в формате DOT.

## Подробней

Модуль содержит функцию `dot2png`, которая принимает путь к DOT файлу и путь для сохранения PNG файла. Он читает содержимое DOT файла, создает объект `Source` из библиотеки `graphviz`, устанавливает формат вывода как PNG и рендерит изображение в указанный файл.

## Функции

### `dot2png`

```python
def dot2png(dot_file: str, png_file: str) -> None:
    """ Converts a DOT file to a PNG image.

    Args:
        dot_file (str): The path to the input DOT file.
        png_file (str): The path where the output PNG file will be saved.

    Raises:
        FileNotFoundError: If the DOT file does not exist.
        Exception: For other errors during conversion.

    Example:
        >>> dot2png('example.dot', 'output.png')
        
        This converts the DOT file 'example.dot' into a PNG image named 'output.png'.
        
        Sample DOT content for 'example.dot':
        
        ```dot
        digraph G {
            A -> B;
            B -> C;
            C -> A;
        }
        ```
        
        To run the script from the command line:
        
        ```bash
        python dot2png.py example.dot output.png
        ```

        This command will create a PNG file named 'output.png' from the graph defined in 'example.dot'.
    """
    ...
```

**Назначение**: Преобразует DOT файл в PNG изображение.

**Параметры**:

- `dot_file` (str): Путь к входному DOT файлу.
- `png_file` (str): Путь, по которому будет сохранено выходное PNG изображение.

**Возвращает**: None

**Вызывает исключения**:

- `FileNotFoundError`: Если DOT файл не существует.
- `Exception`: При других ошибках во время конвертации.

**Как работает функция**:

1.  **Чтение DOT файла**: Функция пытается открыть и прочитать содержимое DOT файла, используя указанный путь.
2.  **Создание объекта Source**: Если чтение файла прошло успешно, создается объект `Source` из библиотеки `graphviz`, который представляет граф, описанный в DOT формате.
3.  **Установка формата вывода**: Устанавливается формат вывода как PNG для объекта `Source`.
4.  **Рендеринг изображения**: Вызывается метод `render` объекта `Source`, который генерирует PNG изображение и сохраняет его в указанный файл. Параметр `cleanup=True` указывает на необходимость удаления временных файлов после рендеринга.
5.  **Обработка исключений**: Если во время чтения файла или рендеринга изображения возникают ошибки, они перехватываются, и соответствующие сообщения об ошибках выводятся в консоль.

**ASCII Flowchart**:

```
    A [Чтение DOT файла]
    |
    B [Создание объекта Source]
    |
    C [Установка формата вывода как PNG]
    |
    D [Рендеринг PNG изображения]
    |
    E [Обработка исключений]
```

**Примеры**:

```python
dot2png('example.dot', 'output.png')
```

В данном примере функция `dot2png` будет вызвана с путем к DOT файлу `example.dot` и путем для сохранения PNG файла `output.png`. Если файл `example.dot` существует и содержит корректное описание графа в формате DOT, то в результате будет создан файл `output.png` с изображением этого графа.

## Скрипт

В секции `if __name__ == "__main__":` проверяется, был ли скрипт запущен напрямую. Если да, то проверяется количество аргументов командной строки. Если количество аргументов не равно 3 (имя скрипта, входной DOT файл, выходной PNG файл), то выводится сообщение об использовании скрипта и происходит выход с кодом 1. Если количество аргументов равно 3, то извлекаются имена входного и выходного файлов из аргументов командной строки, и вызывается функция `dot2png` для конвертации DOT файла в PNG изображение.