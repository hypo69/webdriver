# Документация модуля HeliconeAI для интеграции с Helicone.ai и OpenAI

## Обзор

Модуль `HeliconeAI` предназначен для облегчения взаимодействия с моделями Helicone.ai и OpenAI. Этот модуль предоставляет методы для генерации стихов, анализа тональности текста, суммирования текста и перевода текста. Он также включает логирование выполненных задач с использованием Helicone.ai.

## Подробнее

Данный код обеспечивает интеграцию с Helicone.ai и OpenAI, позволяя использовать различные модели для генерации контента, анализа текста и перевода. Он полезен для приложений, требующих обработки естественного языка и мониторинга использования AI-моделей.

## Классы

### `HeliconeAI`

**Описание**: Класс `HeliconeAI` предоставляет интерфейс для взаимодействия с Helicone.ai и OpenAI.

**Принцип работы**: Класс инициализируется с клиентами `Helicone` и `OpenAI`, которые используются для выполнения различных операций, таких как генерация стихов, анализ тональности, суммирование и перевод текста.

**Аттрибуты**:

-   `helicone`: Инстанс класса `Helicone` для логирования выполненных задач.
-   `client`: Инстанс класса `OpenAI` для взаимодействия с моделями OpenAI.

**Методы**:

-   `generate_poem(prompt: str) -> str`: Генерирует стихотворение на основе заданного промпта.
-   `analyze_sentiment(text: str) -> str`: Анализирует тональность заданного текста.
-   `summarize_text(text: str) -> str`: Суммирует заданный текст.
-   `translate_text(text: str, target_language: str) -> str`: Переводит заданный текст на указанный язык.

## Функции

### `generate_poem`

```python
def generate_poem(self, prompt: str) -> str:
    """Генерирует стихотворение на основе заданного промпта.

    Args:
        prompt (str): Промпт для генерации стихотворения.

    Returns:
        str: Сгенерированное стихотворение.
    """
    ...
```

**Назначение**: Генерация стихотворения на основе заданного промпта с использованием модели `gpt-3.5-turbo`.

**Параметры**:

-   `prompt` (str): Текст запроса для генерации стихотворения.

**Возвращает**:

-   `str`: Сгенерированное стихотворение.

**Как работает функция**:

1.  Функция принимает текстовый запрос (`prompt`) для генерации стихотворения.
2.  Использует клиент OpenAI для создания чат-запроса к модели `gpt-3.5-turbo` с ролью пользователя и содержанием запроса.
3.  Логирует завершение запроса с помощью клиента Helicone.
4.  Извлекает и возвращает сгенерированное стихотворение из ответа OpenAI.

**ASII flowchart**:

```
A (Получение промпта)
↓
B (Создание запроса к OpenAI)
↓
C (Логирование завершения запроса)
↓
D (Извлечение стихотворения из ответа)
↓
E (Возврат стихотворения)
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
poem = helicone_ai.generate_poem("Напиши мне стихотворение про кота.")
print(poem)
```

### `analyze_sentiment`

```python
def analyze_sentiment(self, text: str) -> str:
    """Анализирует тональность заданного текста.

    Args:
        text (str): Текст для анализа тональности.

    Returns:
        str: Результат анализа тональности.
    """
    ...
```

**Назначение**: Анализ тональности заданного текста с использованием модели `text-davinci-003`.

**Параметры**:

-   `text` (str): Текст, для которого необходимо определить тональность.

**Возвращает**:

-   `str`: Результат анализа тональности.

**Как работает функция**:

1.  Функция принимает текст (`text`) для анализа тональности.
2.  Использует клиент OpenAI для создания запроса к модели `text-davinci-003` с указанием анализа тональности предоставленного текста.
3.  Логирует завершение запроса с помощью клиента Helicone.
4.  Извлекает и возвращает результат анализа тональности из ответа OpenAI.

**ASII flowchart**:

```
A (Получение текста для анализа)
↓
B (Создание запроса к OpenAI для анализа тональности)
↓
C (Логирование завершения запроса)
↓
D (Извлечение результата анализа тональности из ответа)
↓
E (Возврат результата анализа тональности)
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
sentiment = helicone_ai.analyze_sentiment("Сегодня был отличный день!")
print(sentiment)
```

### `summarize_text`

```python
def summarize_text(self, text: str) -> str:
    """Суммирует заданный текст.

    Args:
        text (str): Текст для суммирования.

    Returns:
        str: Суммированный текст.
    """
    ...
```

**Назначение**: Суммирование заданного текста с использованием модели `text-davinci-003`.

**Параметры**:

-   `text` (str): Текст, который необходимо суммировать.

**Возвращает**:

-   `str`: Суммированный текст.

**Как работает функция**:

1.  Функция принимает текст (`text`) для суммирования.
2.  Использует клиент OpenAI для создания запроса к модели `text-davinci-003` с указанием суммирования предоставленного текста.
3.  Логирует завершение запроса с помощью клиента Helicone.
4.  Извлекает и возвращает суммированный текст из ответа OpenAI.

**ASII flowchart**:

```
A (Получение текста для суммирования)
↓
B (Создание запроса к OpenAI для суммирования текста)
↓
C (Логирование завершения запроса)
↓
D (Извлечение суммированного текста из ответа)
↓
E (Возврат суммированного текста)
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
summary = helicone_ai.summarize_text("Длинный текст для изложения...")
print(summary)
```

### `translate_text`

```python
def translate_text(self, text: str, target_language: str) -> str:
    """Переводит заданный текст на указанный язык.

    Args:
        text (str): Текст для перевода.
        target_language (str): Язык, на который необходимо перевести текст.

    Returns:
        str: Переведенный текст.
    """
    ...
```

**Назначение**: Перевод заданного текста на указанный язык с использованием модели `text-davinci-003`.

**Параметры**:

-   `text` (str): Текст, который необходимо перевести.
-   `target_language` (str): Язык, на который следует перевести текст.

**Возвращает**:

-   `str`: Переведенный текст.

**Как работает функция**:

1.  Функция принимает текст (`text`) для перевода и целевой язык (`target_language`).
2.  Использует клиент OpenAI для создания запроса к модели `text-davinci-003` с указанием перевода предоставленного текста на указанный язык.
3.  Логирует завершение запроса с помощью клиента Helicone.
4.  Извлекает и возвращает переведенный текст из ответа OpenAI.

**ASII flowchart**:

```
A (Получение текста и целевого языка)
↓
B (Создание запроса к OpenAI для перевода текста)
↓
C (Логирование завершения запроса)
↓
D (Извлечение переведенного текста из ответа)
↓
E (Возврат переведенного текста)
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
translation = helicone_ai.translate_text("Hello, how are you?", "русский")
print(translation)
```

### `main`

```python
def main():
    """
    Основная функция для демонстрации возможностей класса HeliconeAI.
    """
    ...
```

**Назначение**: Демонстрация использования класса `HeliconeAI`.

**Как работает функция**:

1.  Создает экземпляр класса `HeliconeAI`.
2.  Генерирует стихотворение с помощью метода `generate_poem` и выводит его.
3.  Анализирует тональность текста с помощью метода `analyze_sentiment` и выводит результат.
4.  Суммирует текст с помощью метода `summarize_text` и выводит результат.
5.  Переводит текст на русский язык с помощью метода `translate_text` и выводит результат.

**ASII flowchart**:

```
A (Создание экземпляра класса HeliconeAI)
↓
B (Генерация стихотворения)
↓
C (Анализ тональности текста)
↓
D (Суммирование текста)
↓
E (Перевод текста)
↓
F (Вывод результатов)
```

**Примеры**:

```python
if __name__ == "__main__":
    main()
```

## Зависимости

-   `helicone`
-   `openai`

## Лицензия

Этот проект лицензирован в соответствии с лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).