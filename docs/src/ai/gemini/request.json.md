# Документация для `request.json`

## Обзор

Файл `request.json` содержит структуру JSON, описывающую формат запроса к модели Gemini. Он определяет параметры запроса, такие как содержимое запроса, системные инструкции, инструменты, настройки безопасности и конфигурация генерации.

## Подробней

Этот файл предоставляет подробное описание структуры запроса, необходимого для взаимодействия с API Gemini. Он включает определения различных полей, таких как `cachedContent`, `contents`, `systemInstruction`, `tools`, `safetySettings`, `generationConfig` и `labels`. Этот файл служит руководством для разработчиков при создании запросов к API Gemini, обеспечивая правильное форматирование и включение необходимых параметров.

## Структура JSON

### `cachedContent`

- **Описание**: Кэшированное содержимое.
- **Тип**: `string`

### `contents`

- **Описание**: Массив содержимого запроса.
- **Тип**: `array`

#### Элементы массива `contents`

- **Описание**: Объект, представляющий часть содержимого.
- **Тип**: `object`
    - **`role`**: Роль содержимого (например, "user" или "model").
        - **Тип**: `string`
    - **`parts`**: Массив частей содержимого.
        - **Тип**: `array`
        #### Элементы массива `parts`
        - **Описание**: Объект, представляющий часть содержимого.
        - **Тип**: `object`
            - **`text`**: Текст содержимого.
                - **Тип**: `string`
            - **`inlineData`**: Встроенные данные.
                - **Тип**: `object`
                    - **`mimeType`**: MIME-тип данных.
                        - **Тип**: `string`
                    - **`data`**: Данные, закодированные в base64.
                        - **Тип**: `string`
            - **`fileData`**: Данные файла.
                - **Тип**: `object`
                    - **`mimeType`**: MIME-тип файла.
                        - **Тип**: `string`
                    - **`fileUri`**: URI файла.
                        - **Тип**: `string`
            - **`videoMetadata`**: Метаданные видео.
                - **Тип**: `object`
                    - **`startOffset`**: Временная метка начала.
                        - **Тип**: `object`
                            - **`seconds`**: Секунды.
                                - **Тип**: `integer`
                            - **`nanos`**: Наносекунды.
                                - **Тип**: `integer`
                    - **`endOffset`**: Временная метка окончания.
                        - **Тип**: `object`
                            - **`seconds`**: Секунды.
                                - **Тип**: `integer`
                            - **`nanos`**: Наносекунды.
                                - **Тип**: `integer`

### `systemInstruction`

- **Описание**: Системные инструкции.
- **Тип**: `object`
    - **`role`**: Роль системной инструкции.
        - **Тип**: `string`
    - **`parts`**: Массив частей системной инструкции.
        - **Тип**: `array`
        #### Элементы массива `parts`
        - **Описание**: Объект, представляющий часть системной инструкции.
        - **Тип**: `object`
            - **`text`**: Текст инструкции.
                - **Тип**: `string`

### `tools`

- **Описание**: Инструменты, используемые моделью.
- **Тип**: `array`

#### Элементы массива `tools`

- **Описание**: Объект, представляющий инструмент.
- **Тип**: `object`
    - **`functionDeclarations`**: Объявления функций.
        - **Тип**: `array`
        #### Элементы массива `functionDeclarations`
        - **Описание**: Объявление функции.
        - **Тип**: `object`
            - **`name`**: Имя функции.
                - **Тип**: `string`
            - **`description`**: Описание функции.
                - **Тип**: `string`
            - **`parameters`**: Параметры функции (определяются схемой `object`).
                - **Тип**: `object`

### `safetySettings`

- **Описание**: Настройки безопасности.
- **Тип**: `array`

#### Элементы массива `safetySettings`

- **Описание**: Объект, представляющий настройку безопасности.
- **Тип**: `object`
    - **`category`**: Категория вреда.
        - **Тип**: `enum`
        - **Ссылка**: `(HarmCategory)`
    - **`threshold`**: Порог блокировки.
        - **Тип**: `enum`
        - **Ссылка**: `(HarmBlockThreshold)`

### `generationConfig`

- **Описание**: Конфигурация генерации.
- **Тип**: `object`
    - **`temperature`**: Температура (случайность).
        - **Тип**: `number`
    - **`topP`**: Top-P (ядро выборки).
        - **Тип**: `number`
    - **`topK`**: Top-K (количество кандидатов).
        - **Тип**: `number`
    - **`candidateCount`**: Количество кандидатов.
        - **Тип**: `integer`
    - **`maxOutputTokens`**: Максимальное количество выходных токенов.
        - **Тип**: `integer`
    - **`presencePenalty`**: Штраф за присутствие.
        - **Тип**: `float`
    - **`frequencyPenalty`**: Штраф за частоту.
        - **Тип**: `float`
    - **`stopSequences`**: Последовательности остановки.
        - **Тип**: `array`
            - **Элементы**: `string`
    - **`responseMimeType`**: MIME-тип ответа.
        - **Тип**: `string`
    - **`responseSchema`**: Схема ответа.
        - **Тип**: `schema`
    - **`seed`**: Зерно для случайных чисел.
        - **Тип**: `integer`
    - **`responseLogprobs`**: Лог-вероятности ответа.
        - **Тип**: `boolean`
    - **`logprobs`**: Количество токенов для лог-вероятностей.
        - **Тип**: `integer`
    - **`audioTimestamp`**: Временные метки аудио.
        - **Тип**: `boolean`

### `labels`

- **Описание**: Метки.
- **Тип**: `object`
    - **Ключ**: `string`
    - **Значение**: `string`