# Модуль `ksp.py`

## Обзор

Модуль предназначен для сбора данных о товарах с сайта KSP (ksp.co.il). Он использует Selenium WebDriver для взаимодействия с сайтом и извлекает информацию о товарах, категориях и брендах.

## Подробней

Модуль `ksp.py` является частью проекта `hypotez` и отвечает за получение данных о товарах с сайта KSP. Он содержит функции для получения списка категорий, подкатегорий и брендов, а также функцию для получения информации о конкретном товаре по его URL.
Этот модуль использует файл `locators.json`, в котором хранятся локаторы элементов на сайте KSP, необходимые для работы WebDriver.

## Классы

В данном модуле классы отсутствуют.

## Функции

### `get_worlds`

```python
def get_worlds() -> dict:
    """
    Получает список категорий товаров с сайта KSP.

    Args:
        Нет аргументов.

    Returns:
        dict: Словарь, где ключи - названия категорий, значения - ссылки на эти категории.

    Raises:
        Exception: Возникает при ошибке выполнения `executor`.

    Example:
        >>> worlds = get_worlds()
        >>> print(worlds)
        {'Категория 1': 'https://ksp.co.il/category/1', 'Категория 2': 'https://ksp.co.il/category/2', ...}
    """
```

**Описание**:
Функция `get_worlds` извлекает список категорий товаров с сайта KSP, используя локаторы, определенные в файле `locators.json`. Она использует функцию `executor` из модуля `src.webdriver` для выполнения запросов к сайту.

**Как работает функция**:
1. Вызывает функцию `executor` с локаторами для получения списка категорий.
2. Создает пустой словарь `worlds_dic`.
3. Итерируется по списку категорий, полученному от `executor`.
4. Обновляет словарь `worlds_dic` данными из каждой категории.
5. Возвращает словарь `worlds_dic`.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- `dict`: Словарь, где ключи - названия категорий, значения - ссылки на эти категории.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке выполнения `executor`.

**Примеры**:

```python
worlds = get_worlds()
print(worlds)
# {'Категория 1': 'https://ksp.co.il/category/1', 'Категория 2': 'https://ksp.co.il/category/2', ...}
```

### `get_subs_from_world`

```python
def get_subs_from_world() -> dict:
    """
    Получает список подкатегорий товаров с сайта KSP.

    Args:
        Нет аргументов.

    Returns:
        dict: Словарь, где ключи - названия подкатегорий, значения - ссылки на эти подкатегории.

    Raises:
        Exception: Возникает при ошибке выполнения `executor`.

    Example:
        >>> subs = get_subs_from_world()
        >>> print(subs)
        {'Подкатегория 1': 'https://ksp.co.il/subcategory/1', 'Подкатегория 2': 'https://ksp.co.il/subcategory/2', ...}
    """
```

**Описание**:
Функция `get_subs_from_world` извлекает список подкатегорий товаров с сайта KSP, используя локаторы, определенные в файле `locators.json`. Она использует функцию `executor` из модуля `src.webdriver` для выполнения запросов к сайту.

**Как работает функция**:
1. Вызывает функцию `executor` с локаторами для получения списка подкатегорий.
2. Создает пустой словарь `subs_dic`.
3. Итерируется по списку подкатегорий, полученному от `executor`.
4. Обновляет словарь `subs_dic` данными из каждой подкатегории.
5. Возвращает словарь `subs_dic`.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- `dict`: Словарь, где ключи - названия подкатегорий, значения - ссылки на эти подкатегории.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке выполнения `executor`.

**Примеры**:

```python
subs = get_subs_from_world()
print(subs)
# {'Подкатегория 1': 'https://ksp.co.il/subcategory/1', 'Подкатегория 2': 'https://ksp.co.il/subcategory/2', ...}
```

### `get_all_brands_list`

```python
def get_all_brands_list() -> dict:
    """
    Получает список всех брендов товаров с сайта KSP.

    Args:
        Нет аргументов.

    Returns:
        dict: Словарь, где ключи - названия брендов, значения - ссылки на эти бренды.

    Raises:
        Exception: Возникает при ошибке выполнения `executor`.

    Example:
        >>> brands = get_all_brands_list()
        >>> print(brands)
        {'Бренд 1': 'https://ksp.co.il/brand/1', 'Бренд 2': 'https://ksp.co.il/brand/2', ...}
    """
```

**Описание**:
Функция `get_all_brands_list` извлекает список всех брендов товаров с сайта KSP, используя локаторы, определенные в файле `locators.json`. Она использует функцию `executor` из модуля `src.webdriver` для выполнения запросов к сайту.

**Как работает функция**:
1. Вызывает функцию `executor` с локаторами для открытия полного списка брендов.
2. Вызывает функцию `executor` с локаторами для получения списка брендов.
3. Преобразует полученный список в строку и разделяет его на отдельные бренды.
4. Создает словарь `brands_dict`, где ключи - названия брендов, значения - ссылки на эти бренды.
5. Возвращает словарь `brands_dict`.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- `dict`: Словарь, где ключи - названия брендов, значения - ссылки на эти бренды.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке выполнения `executor`.

**Примеры**:

```python
brands = get_all_brands_list()
print(brands)
# {'Бренд 1': 'https://ksp.co.il/brand/1', 'Бренд 2': 'https://ksp.co.il/brand/2', ...}
```

### `get_product`

```python
def get_product(url: str = 'https://ksp.co.il/web/item/227307') -> dict:
    """
    Получает информацию о товаре с сайта KSP по указанному URL.

    Args:
        url (str, optional): URL товара на сайте KSP. По умолчанию 'https://ksp.co.il/web/item/227307'.

    Returns:
        dict: Словарь с информацией о товаре.

    Raises:
        Exception: Возникает при ошибке выполнения запроса к сайту.

    Example:
        >>> product = get_product('https://ksp.co.il/web/item/227307')
        >>> print(product)
        {'name': '...', 'price': '...', ...}
    """
```

**Описание**:
Функция `get_product` извлекает информацию о товаре с сайта KSP по указанному URL.

**Как работает функция**:
1.  ...

**Параметры**:
- `url` (str, optional): URL товара на сайте KSP. По умолчанию `'https://ksp.co.il/web/item/227307'`.

**Возвращает**:
- `dict`: Словарь с информацией о товаре.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке выполнения запроса к сайту.

**Примеры**:

```python
product = get_product('https://ksp.co.il/web/item/227307')
print(product)
# {'name': '...', 'price': '...', ...}