# Модуль `login.py`

## Обзор

Модуль `login.py` предназначен для реализации процесса авторизации на сайте `c-data.co.il` с использованием веб-драйвера. Он содержит функцию `login`, которая выполняет вход в систему, используя предоставленные email и пароль.

## Подробней

Этот модуль является частью подсистемы, взаимодействующей с поставщиком данных CData. Функция `login` выполняет следующие действия:
1. Открывает страницу авторизации.
2. Находит элементы ввода email и пароля, а также кнопку входа, используя локаторы.
3. Вводит email и пароль в соответствующие поля.
4. Нажимает на кнопку входа.
5. Логирует факт успешной авторизации.

## Функции

### `login`

```python
def login(self):
    """
    Выполняет авторизацию на сайте C-data.

    Args:
        self: Ссылка на экземпляр класса, в котором определена функция. Предполагается, что класс имеет атрибуты:
            - `get_url`: Метод для открытия URL в браузере.
            - `locators`: Словарь с локаторами элементов страницы авторизации.
            - `print`: Метод для вывода информации в консоль.
            - `find`: Метод для поиска элемента на странице по локатору.
            - `log`: Метод для логирования действий.

    Returns:
        bool: `True` в случае успешной авторизации.
    """
```

**Параметры**:
- `self`: Экземпляр класса, содержащий информацию о веб-драйвере и локаторах элементов.

**Возвращает**:
- `bool`: `True` в случае успешной авторизации.

**Как работает функция**:

1. **Переход на страницу авторизации**:
   - Функция `login` начинает свою работу с открытия страницы авторизации `https://reseller.c-data.co.il/Login` с использованием метода `self.get_url()`.

2. **Извлечение данных и локаторов**:
   - Извлекаются email и пароль из атрибута `self.locators` и присваиваются переменным `email` и `password`.
   - Из `self.locators` также извлекаются локаторы для поля ввода email (`email_locator`), поля ввода пароля (`password_locator`) и кнопки входа (`loginbutton_locator`).

3. **Вывод локаторов в консоль**:
   -  Выводит в консоль значения локаторов для отладки и проверки правильности их определения.

4. **Ввод данных и клик**:
   - Используются методы `self.find()` для поиска элементов на странице по их локаторам.
   - В поле ввода email отправляется значение переменной `email` методом `send_keys()`.
   - В поле ввода пароля отправляется значение переменной `password` методом `send_keys()`.
   - Выполняется клик по кнопке входа методом `click()`.

5. **Логирование и возврат**:
   - В случае успешного выполнения всех предыдущих действий, функция логирует сообщение `'C-data logged in'` с использованием метода `self.log()`.
   - Возвращает значение `True`, сигнализируя об успешной авторизации.

**ASCII-схема работы функции**:

```
Начало
   ↓
Открытие страницы авторизации (get_url)
   ↓
Извлечение данных и локаторов (email, password, email_locator, password_locator, loginbutton_locator)
   ↓
Поиск поля email (find(email_locator))
   ↓
Ввод email (send_keys(email))
   ↓
Поиск поля пароля (find(password_locator))
   ↓
Ввод пароля (send_keys(password))
   ↓
Поиск кнопки входа (find(loginbutton_locator))
   ↓
Клик по кнопке входа (click())
   ↓
Логирование (log('C-data logged in'))
   ↓
Возврат True
   ↓
Конец
```

**Примеры**:

Для вызова функции `login` необходимо иметь экземпляр класса, содержащего метод `login` и необходимые атрибуты.
Предположим, у нас есть класс `CDataReseller` с необходимыми атрибутами и методом `login`.

```python
class CDataReseller:
    def __init__(self, locators):
        self.locators = locators

    def get_url(self, url):
        print(f"Открываю URL: {url}")

    def find(self, locator):
        print(f"Ищу элемент по локатору: {locator}")
        class MockElement:
            def send_keys(self, keys):
                print(f"Ввожу текст: {keys}")
            def click(self):
                print("Кликаю на элемент")
        return MockElement()

    def log(self, message):
        print(f"Лог: {message}")

    def print(self, message):
        print(message)

locators = {
    'login': {
        'email': 'test@example.com',
        'password': 'password',
        'email_locator': {'by': 'id', 'selector': 'email'},
        'password_locator': {'by': 'id', 'selector': 'password'},
        'loginbutton_locator': {'by': 'id', 'selector': 'loginbutton'}
    }
}

reseller = CDataReseller(locators)
result = reseller.login()
print(f"Результат авторизации: {result}")