# Модуль `graber.py`

## Обзор

Модуль `graber.py` является частью проекта `hypotez` и предназначен для сбора информации о товарах с веб-сайта `morlevi.co.il`. Он расширяет функциональность базового класса `Graber`, предоставляя специфические методы для обработки полей товаров именно этого поставщика. Модуль включает в себя предобработку запросов к веб-драйверу с использованием декораторов.

## Подробнее

Основная цель модуля — автоматизировать процесс сбора данных о товарах с сайта `morlevi.co.il`. Он использует веб-драйвер для взаимодействия с сайтом и извлечения необходимой информации. Для нестандартной обработки полей товаров, функции обработки перегружаются в этом классе. Предобработка запросов к веб-драйверу выполняется с помощью декораторов, что позволяет выполнять предварительные действия перед отправкой запроса.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для выполнения операций сбора данных с сайта `morlevi.co.il`. Он наследует функциональность от базового класса `Graber` (`Grbr`) и адаптирует её для специфических требований данного поставщика.

**Принцип работы**:
Класс инициализируется с веб-драйвером и индексом языка. Он также устанавливает локатор для декоратора, который используется для предобработки запросов к веб-драйверу.

**Наследует**:
- `src.suppliers.graber.Graber` (`Grbr`)

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, установлен в `'morlevi'`.

**Методы**:
- `__init__`: Инициализирует класс `Graber`, вызывая конструктор родительского класса и устанавливая локатор для декоратора.

#### `__init__`

```python
def __init__(self, driver: Driver, lang_index: int):
    """Инициализация класса сбора полей товара."""
    super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
    Context.locator_for_decorator = self.locator.close_pop_up
```

**Назначение**: Инициализация экземпляра класса `Graber`.

**Параметры**:
- `driver` (Driver): Экземпляр веб-драйвера для взаимодействия с сайтом.
- `lang_index` (int): Индекс языка, используемого на сайте.

**Как работает функция**:

1. **Вызов конструктора родительского класса**: Инициализирует родительский класс `Graber` (`Grbr`) с указанием префикса поставщика, веб-драйвера и индекса языка.
2. **Установка локатора для декоратора**: Устанавливает атрибут `locator_for_decorator` в классе `Context` равным локатору для закрытия всплывающего окна (`self.locator.close_pop_up`).

```ascii
    A: Вызов конструктора родительского класса
    |
    B: Установка локатора для декоратора
```

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.webdriver import Firefox
driver = Driver(Firefox)
graber = Graber(driver=driver, lang_index=0)