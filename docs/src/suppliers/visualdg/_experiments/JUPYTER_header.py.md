# Модуль _experiments
## Обзор

Модуль содержит набор экспериментов, связанных с поставщиком VisualDG. В частности, здесь собраны фрагменты кода для работы с данными о поставщиках, товарами и категориями, а также вспомогательные утилиты для обработки строк и взаимодействия с PrestaShop.

## Подробней

Модуль предназначен для экспериментов и тестов, связанных с поставщиком VisualDG. Он включает в себя импорты необходимых библиотек и модулей, определение пути к корневой директории проекта, а также функцию для запуска поставщика. Этот код используется для отладки и проверки логики работы с поставщиками, продуктами и категориями.

## Функции

### `start_supplier`

```python
def start_supplier(supplier_prefix: str = 'aliexpress', locale: str = 'en'):
    """ Старт поставщика """
```

**Назначение**: Запускает поставщика с указанным префиксом и локалью.

**Параметры**:

-   `supplier_prefix` (str, optional): Префикс поставщика. По умолчанию `'aliexpress'`.
-   `locale` (str, optional): Локаль поставщика. По умолчанию `'en'`.

**Возвращает**:
-   `Supplier`: Возвращает объект класса `Supplier`, созданного с переданными параметрами.

**Как работает функция**:

1.  Формирует словарь `params` с параметрами поставщика.
2.  Создает и возвращает объект `Supplier` с использованием переданных параметров.

```
    Формирование параметров
    │
    Создание объекта Supplier
    │
    Возврат объекта Supplier
```

**Примеры**:

```python
supplier = start_supplier(supplier_prefix='aliexpress', locale='en')
supplier = start_supplier(supplier_prefix='amazon', locale='de')
```
```python
import sys
import os
from pathlib import Path

# ----------------
dir_root : Path = Path (os.getcwd()[:os.getcwd().rfind(\'hypotez\')+7])
sys.path.append (str (dir_root) )  # Добавляю корневую папку в sys.path
dir_src = Path (dir_root, \'src\')
sys.path.append (str (dir_root) ) 
# ----------------
```

**Назначение**: Этот блок кода определяет корневую директорию проекта `hypotez` и добавляет её в `sys.path`, чтобы обеспечить возможность импорта модулей из других частей проекта.

**Как работает**:

1.  **Определение `dir_root`**:
    -   `os.getcwd()`: Получает текущую рабочую директорию.
    -   `os.getcwd()[:os.getcwd().rfind('hypotez')+7]`: Извлекает путь к корневой директории проекта, предполагая, что она содержит подстроку `'hypotez'`. Индекс последнего вхождения этой подстроки увеличивается на 7, чтобы включить саму подстроку `'hypotez'` в итоговый путь.
    -   `Path(...)`: Преобразует полученный путь в объект `Path` для удобства работы с файловой системой.
2.  **Добавление `dir_root` в `sys.path`**:
    -   `sys.path.append(str(dir_root))`: Добавляет строковое представление корневой директории в `sys.path`. Это позволяет Python находить и импортировать модули, расположенные в этой директории.
3.  **Определение `dir_src`**:
    -   `Path(dir_root, 'src')`: Создает объект `Path`, представляющий директорию `src`, которая предположительно находится внутри корневой директории проекта.
4.  **Повторное добавление `dir_root` в `sys.path`**:
    -   `sys.path.append(str(dir_root))`: Повторно добавляет строковое представление корневой директории в `sys.path`. Это может быть избыточным, если корневая директория уже была добавлена на предыдущем шаге.

**Переменные**:

-   `dir_root` (Path): Корневая директория проекта `hypotez`.
-   `dir_src` (Path): Директория `src`, расположенная внутри корневой директории проекта.

**ASCII Flowchart**:

```
    Получение текущей рабочей директории (os.getcwd())
    │
    Поиск подстроки 'hypotez' в пути
    │
    Извлечение пути к корневой директории
    │
    Преобразование пути в объект Path (dir_root)
    │
    Добавление корневой директории в sys.path
    │
    Определение директории src (dir_src)
    │
    Повторное добавление корневой директории в sys.path
```

**Примеры**:

Предположим, что текущая рабочая директория - `/Users/username/Documents/projects/hypotez/src/suppliers`.

```python
dir_root = Path(os.getcwd()[:os.getcwd().rfind('hypotez')+7])
print(dir_root)  # Вывод: /Users/username/Documents/projects/hypotez