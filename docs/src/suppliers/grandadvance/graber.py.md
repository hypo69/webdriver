# Модуль `graber.py`

## Обзор

Модуль предназначен для сбора данных о товарах с веб-сайта `grandadvanse.co.il`. Он содержит класс `Graber`, который наследует функциональность от класса `Graber` (Grbr) и переопределяет методы для обработки специфических полей товаров на этом сайте. Модуль использует веб-драйвер для взаимодействия с веб-страницами и извлечения необходимой информации.

## Подробнее

Этот модуль является частью системы для сбора данных о товарах с различных сайтов поставщиков. Он специализируется на сайте `grandadvanse.co.il`.
Класс `Graber` переопределяет методы родительского класса для обработки полей, требующих нестандартного подхода. Перед отправкой запроса к веб-драйверу можно выполнить предварительные действия с помощью декоратора, определенного в родительском классе.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `grandadvanse.co.il`. Он наследует базовую функциональность от класса `Graber` (который в коде обозначен как `Grbr`) и специализируется на обработке данных именно с этого сайта.

**Принцип работы**:

1.  **Инициализация**: При создании экземпляра класса загружаются конфигурационные файлы и локаторы, специфичные для `grandadvance`.
2.  **Наследование**: Наследует методы от родительского класса `Graber` (`Grbr`), которые могут быть переопределены для адаптации к структуре данных на сайте `grandadvanse.co.il`.
3.  **Декораторы**: Использует декораторы для выполнения предварительных действий перед взаимодействием с веб-драйвером, что позволяет обрабатывать специфические элементы интерфейса.

**Наследует**:

-   `Graber` (обозначен как `Grbr`) - класс, предоставляющий общую функциональность для сбора данных с сайтов поставщиков.

**Методы**:

-   `__init__(self, driver: Driver, lang_index: int)`: Инициализирует класс `Graber`, загружает конфигурацию и локаторы, а также устанавливает контекст для декоратора.

### `__init__`

```python
def __init__(self, driver: Driver, lang_index: int):
    """
    Инициализирует класс Graber, загружает конфигурацию и локаторы, а также устанавливает контекст для декоратора.

    Args:
        driver (Driver): Экземпляр веб-драйвера для взаимодействия с веб-страницами.
        lang_index (int): Индекс языка, используемого на сайте.

    """
```

**Назначение**:
Инициализация экземпляра класса `Graber`. Загружает конфигурационные файлы и локаторы, необходимые для работы грабера.

**Параметры**:

-   `driver` (Driver): Экземпляр веб-драйвера, используемый для взаимодействия с веб-страницами.
-   `lang_index` (int): Индекс языка, используемого на сайте.

**Как работает функция**:

1.  **Загрузка конфигурации**: Загружает конфигурационный файл `grandadvance.json` с использованием функции `j_loads_ns`.
2.  **Загрузка локаторов**: Загружает локаторы элементов страницы товара из файла `product.json` с использованием функции `j_loads_ns`.
3.  **Вызов конструктора родительского класса**: Вызывает конструктор родительского класса `Graber` (`Grbr`) с передачей префикса поставщика, экземпляра драйвера и индекса языка.
4.  **Установка контекста для декоратора**: Устанавливает локатор для декоратора, чтобы можно было выполнить предварительные действия перед отправкой запроса к веб-драйверу.

**Примеры**:

Пример инициализации класса `Graber`:

```python
from src.webdriver.driver import Driver, Chrome
driver = Driver(Chrome)
graber = Graber(driver=driver, lang_index=0)
```

## Функции

В данном модуле функции отсутствуют.