# Модуль `get_product_id`

## Обзор

Модуль содержит функцию `get_product_id`, предназначенную для извлечения идентификатора продукта из предоставленной строки. В случае неудачи извлекания идентификатора, функция вызывает исключение `ProductIdNotFoundException`.

## Подробней

Этот модуль является частью системы обработки данных от AliExpress и используется для стандартизации идентификаторов продуктов, которые могут быть представлены в различных форматах (например, в виде URL или просто числовой строки). Функция `get_product_id` служит центральным элементом для получения надежного идентификатора продукта, необходимого для дальнейших операций, таких как запрос данных о продукте или сохранение информации в базе данных.

## Функции

### `get_product_id`

```python
def get_product_id(raw_product_id: str) -> str:
    """Returns the product ID from a given text. Raises ProductIdNotFoundException on fail."""
    return extract_prod_ids(raw_product_id)
    # if re.search(r'^[0-9]*$', text):
    #     return text

    # # Extract product ID from URL
    # asin = re.search(r'(\\/)([0-9]*)(\\.)', text)
    # if asin:
    #     return asin.group(2)
    # else:
    #     raise ProductIdNotFoundException('Product id not found: ' + text)
```

**Назначение**: Извлекает и возвращает идентификатор продукта из предоставленной строки.

**Параметры**:
- `raw_product_id` (str): Строка, содержащая идентификатор продукта, который необходимо извлечь. Это может быть URL, содержащий идентификатор продукта, или просто числовой идентификатор.

**Возвращает**:
- `str`: Идентификатор продукта, извлеченный из входной строки.

**Вызывает исключения**:
- `ProductIdNotFoundException`: Вызывается, если не удается извлечь идентификатор продукта из предоставленной строки.

**Как работает функция**:

1.  Функция `get_product_id` принимает строку `raw_product_id` в качестве входных данных.
2.  Затем вызывается функция `extract_prod_ids(raw_product_id)`, которая пытается извлечь идентификатор продукта из предоставленной строки.
3.  Если `extract_prod_ids` успешно извлекает идентификатор, он возвращается.
4.  В противном случае, если функция не может найти идентификатор продукта, будет выброшено исключение `ProductIdNotFoundException`.
5.  Закомментированный код содержит альтернативные методы извлечения идентификатора продукта, включая проверку, является ли входная строка числом, и извлечение из URL с использованием регулярного выражения.

**Примеры**:

```python
# Пример 1: Извлечение ID из числовой строки
product_id = get_product_id("1234567890")
print(product_id)  # Вывод: 1234567890

# Пример 2: Извлечение ID из URL (предположительно, функция extract_prod_ids обрабатывает URL)
product_id = get_product_id("https://aliexpress.com/item/1234567890.html")
print(product_id)  # Вывод: 1234567890

# Пример 3: Вызов исключения, если ID не найден (если функция extract_prod_ids не находит ID)
try:
    product_id = get_product_id("Invalid product ID")
except ProductIdNotFoundException as ex:
    print(ex)  # Вывод: Product id not found: Invalid product ID