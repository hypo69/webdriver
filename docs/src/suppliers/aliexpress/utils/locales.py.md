# Модуль `locales.py`

## Обзор

Модуль `locales.py` предназначен для загрузки данных о локалях из JSON-файла. Он предоставляет функции для загрузки и обработки этих данных, чтобы использовать их в проекте `hypotez`, например, для настройки рекламных кампаний, связанных с AliExpress.

## Подробнее

Модуль содержит функции для загрузки данных о локалях из JSON файла. Эти данные используются для определения валют и других параметров, специфичных для каждой локали. Расположение файла в структуре проекта: `hypotez/src/suppliers/aliexpress/utils/locales.py`.

## Функции

### `get_locales`

```python
def get_locales(locales_path: Path | str) -> list[dict[str, str]] | None:
    """ Функция загружает данные о локалях из JSON-файла.

    Args:
        path (Path): Путь к JSON-файлу, содержащему данные о локалях.

    Returns:
        list[dict[str, str]] | None: Список словарей с парами локаль-валюта или `None`, если файл не найден или данные не загружены.

    Raises:
        FileNotFoundError: Если файл по указанному пути не найден.
        json.JSONDecodeError: Если файл не является корректным JSON.

    """
```

**Назначение**: Загружает данные о локалях из указанного JSON-файла.

**Параметры**:
- `locales_path` (Path | str): Путь к JSON-файлу, содержащему данные о локалях.

**Возвращает**:
- `list[dict[str, str]] | None`: Список словарей, где каждый словарь представляет собой пару локаль-валюта (например, `{'EN': 'USD'}`). Возвращает `None`, если данные не удалось загрузить.

**Как работает функция**:
1. Функция использует `j_loads_ns` для загрузки данных из JSON-файла, расположенного по указанному пути `locales_path`.
2. Из загруженных данных извлекается значение ключа `locales`, которое, как предполагается, является списком словарей с информацией о локалях.
3. Если данные успешно загружены и содержат информацию о локалях, функция возвращает этот список. В противном случае возвращается `None`.

```
    A -- locales_path: Путь к файлу
    |
    B -- j_loads_ns(locales_path): Загрузка данных из JSON
    |
    C -- Извлечение locales из загруженных данных
    |
    D -- Возврат списка локалей или None
```

**Примеры**:

```python
from pathlib import Path
from src.suppliers.aliexpress.utils.locales import get_locales

# Пример 1: Загрузка локалей из существующего файла
file_path = Path('path/to/existing/locales.json')  # Укажите существующий файл
locales = get_locales(file_path)
if locales:
    print(f"Локали: {locales}")
else:
    print("Не удалось загрузить локали.")

# Пример 2: Загрузка локалей из несуществующего файла (вернет None)
file_path = Path('path/to/nonexistent/locales.json') # Укажите несуществующий файл
locales = get_locales(file_path)
if locales:
    print(f"Локали: {locales}")
else:
    print("Не удалось загрузить локали.")
```

## Переменные

### `locales`

```python
locales: list[dict[str, str]] | None = get_locales (gs.path.src / 'suppliers' / 'aliexpress' / 'utils' / 'locales.json') # defined locales for campaigns
```

**Назначение**: Содержит список локалей, используемых для рекламных кампаний.

**Описание**:
- Эта переменная инициализируется путем вызова функции `get_locales` с путем к файлу `locales.json`, который содержит данные о локалях.
- Значение этой переменной используется для настройки рекламных кампаний, чтобы они соответствовали определенным локалям и валютам.
- Если `get_locales` возвращает `None` (например, если файл не найден), переменная `locales` также будет иметь значение `None`.