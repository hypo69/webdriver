# Модуль для сбора данных с сайта etzmaleh.co.il

## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `etzmaleh.co.il`. Он расширяет функциональность базового класса `Graber` и предоставляет специфическую логику для обработки полей товаров на этом сайте. Основная цель модуля - автоматизированный сбор данных о товарах с веб-страниц `etzmaleh.co.il` с учетом особенностей структуры этого сайта. Модуль использует веб-драйвер для взаимодействия с сайтом и извлечения необходимых данных.

## Подробней

Модуль содержит класс `Graber`, который наследуется от базового класса `Graber` (`Grbr`). Он предназначен для сбора информации о товарах с сайта `etzmaleh.co.il`. Для каждого поля страницы товара в родительском классе создана функция обработки. Если требуется нестандартная обработка, функция переопределяется в этом классе. Перед отправкой запроса к веб-драйверу можно совершить предварительные действия через декоратор. Декоратор по умолчанию находится в родительском классе. Для того, чтобы декоратор сработал, надо передать значение в `Context.locator`. Если надо реализовать свой декоратор - раскомментируйте строки с декоратором и переопределите его поведение.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `etzmaleh.co.il`. Он наследуется от класса `Graber` (`Grbr`) и предоставляет специализированную логику для извлечения информации с веб-страниц данного поставщика.

**Принцип работы**:

1.  **Инициализация**: При инициализации класса устанавливается префикс поставщика (`etzmaleh`) и вызывается конструктор родительского класса. Также устанавливаются глобальные настройки через `Context`, включая локатор для декоратора (`Context.locator_for_decorator`).

2.  **Переопределение методов**: При необходимости, методы родительского класса переопределяются для адаптации к особенностям структуры сайта `etzmaleh.co.il`.

**Наследует**:

-   `Graber` (`Grbr`): Базовый класс для сбора данных с веб-страниц.

**Аттрибуты**:

-   `supplier_prefix` (str): Префикс поставщика, устанавливается в значение `'etzmaleh'`.

**Методы**:

-   `__init__(self, driver: Driver, lang_index)`: Инициализирует класс `Graber`, устанавливает префикс поставщика и вызывает конструктор родительского класса.

### `__init__`

```python
def __init__(self, driver: Driver, lang_index):
    """Инициализация класса сбора полей товара."""
```

**Назначение**: Инициализация экземпляра класса `Graber`.

**Параметры**:

-   `driver` (`Driver`): Экземпляр веб-драйвера, используемый для взаимодействия с сайтом.
-   `lang_index` (int): Индекс языка, используемый для локализации.

**Как работает функция**:

1.  Устанавливает атрибут `supplier_prefix` в значение `'etzmaleh'`.
2.  Вызывает конструктор родительского класса (`Grbr`) с указанием префикса поставщика, драйвера и индекса языка.
3.  Устанавливает глобальные настройки через `Context`, присваивая `None` атрибуту `Context.locator_for_decorator`.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.webdriver import Firefox
# Пример создания экземпляра класса Graber
driver = Driver(Firefox)
graber = Graber(driver, lang_index=1)
```

```ascii
Инициализация Graber
│
├── Установка supplier_prefix = 'etzmaleh'
│
├── Вызов Graber.__init__()
│
└── Установка Context.locator_for_decorator = None
│
Конец