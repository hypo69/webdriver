# Модуль асинхронной демонстрации text completions с использованием gpt4free

## Обзор

Этот модуль демонстрирует асинхронное взаимодействие с API gpt4free для выполнения задач text completions. В частности, он показывает, как создать асинхронного клиента, отправить запрос на завершение текста и обработать полученный ответ.

## Подробнее

Модуль использует библиотеку `g4f` для асинхронного взаимодействия с моделью `gpt-4o` с целью получения завершений текста на основе заданных сообщений. Он демонстрирует, как инициализировать асинхронного клиента, отправить запрос на завершение текста с определенной моделью и сообщениями, а также обработать ответ для извлечения завершенного текста.

## Функции

### `main`

```python
async def main():
    """ Асинхронная функция для демонстрации text completions с использованием gpt4free.

    Функция создает асинхронного клиента, отправляет запрос на завершение текста и выводит полученный ответ.

    Args:
        Нет

    Returns:
        None

    Raises:
        Нет

    Как работает функция:
    1. Создается экземпляр асинхронного клиента `AsyncClient`.
    2. Отправляется запрос на завершение текста к модели `gpt-4o` с заданными сообщениями (системное и пользовательское).
    3. Полученный ответ извлекается и выводится на экран.

    А
    |
    Создание клиента
    |
    B
    |
    Отправка запроса
    |
    C
    |
    Вывод ответа

    Примеры:
        >>> asyncio.run(main())
        <Ответ от gpt-4o, завершающий запрос пользователя>
    """
```

**Внутренние функции**: Нет

**Параметры**: Нет

**Возвращает**: Нет

**Вызывает исключения**: Нет

**Как работает функция**:
1. **Создание клиента**: Инициализация асинхронного клиента `AsyncClient`.
2. **Отправка запроса**: Отправка асинхронного запроса на завершение текста к модели `gpt-4o` с заданными сообщениями.
3. **Вывод ответа**: Извлечение и вывод содержимого ответа на экран.

```
    A
    |
    Создание клиента
    |
    B
    |
    Отправка запроса
    |
    C
    |
    Вывод ответа
```

**Примеры**:

```python
import asyncio
from g4f.client import AsyncClient

async def main():
    client = AsyncClient()

    response = await client.chat.completions.create(
        model="gpt-4o",
        messages=[
            {"role": "system", "content": "You are a helpful assistant."},
            {"role": "user", "content": "how does a court case get to the Supreme Court?"}
        ]
    )

    print(response.choices[0].message.content)

asyncio.run(main())