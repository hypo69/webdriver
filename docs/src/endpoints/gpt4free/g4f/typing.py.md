# Модуль для определения типов данных

## Обзор

Этот модуль определяет различные типы данных, используемые в проекте `hypotez`, в частности, в контексте взаимодействия с GPT4Free. Он включает в себя определения для работы с изображениями, асинхронными и синхронными генераторами, словарями, списками и другими структурами данных.

## Подробней

Модуль предназначен для обеспечения статической типизации и повышения читаемости кода. Он содержит определения типов, такие как `SHA256`, `CreateResult`, `AsyncResult`, `Messages`, `Cookies`, `ImageType` и `MediaListType`, которые используются для аннотирования переменных и параметров функций.

## Типы данных

### `SHA256`

```python
SHA256 = NewType('sha_256_hash', str)
```

**Описание**: Тип, представляющий собой SHA256 хеш в виде строки. Используется для идентификации и проверки целостности данных.

**Принцип работы**:
   - Создает новый тип `SHA256` на основе `str`.

### `CreateResult`

```python
CreateResult = Iterator[Union[str, ResponseType]]
```

**Описание**: Тип, представляющий собой итератор, возвращающий строки или объекты типа `ResponseType`. Используется для потоковой обработки результатов.

**Принцип работы**:
   - Определяет `CreateResult` как итератор, который может возвращать строки или объекты типа `ResponseType`.

### `AsyncResult`

```python
AsyncResult = AsyncIterator[Union[str, ResponseType]]
```

**Описание**: Тип, представляющий собой асинхронный итератор, возвращающий строки или объекты типа `ResponseType`. Используется для асинхронной потоковой обработки результатов.

**Принцип работы**:
   - Определяет `AsyncResult` как асинхронный итератор, который может возвращать строки или объекты типа `ResponseType`.

### `Messages`

```python
Messages = List[Dict[str, Union[str, List[Dict[str, Union[str, Dict[str, str]]]]]]]
```

**Описание**: Тип, представляющий собой список словарей, содержащих сообщения. Используется для структурированного представления обмена сообщениями.

**Принцип работы**:
   - Определяет `Messages` как список словарей. Каждый словарь содержит ключ типа `str` и значение, которое может быть строкой или списком других словарей. Эти другие словари, в свою очередь, содержат ключи типа `str` и значения, которые могут быть строками или словарями, отображающими строки в строки.

### `Cookies`

```python
Cookies = Dict[str, str]
```

**Описание**: Тип, представляющий собой словарь, содержащий HTTP cookies. Ключи и значения словаря - строки.

**Принцип работы**:
   - Определяет `Cookies` как словарь, где ключи и значения являются строками.

### `ImageType`

```python
ImageType = Union[str, bytes, IO, Image, os.PathLike]
```

**Описание**: Тип, представляющий собой изображение в различных форматах: строка (путь к файлу), байты, файловый объект, объект PIL.Image или объект, реализующий интерфейс пути.

**Принцип работы**:
   - Определяет `ImageType` как объединение различных типов, представляющих изображение.

### `MediaListType`

```python
MediaListType = List[Tuple[ImageType, Optional[str]]]
```

**Описание**: Тип, представляющий собой список кортежей, каждый из которых содержит объект типа `ImageType` и опциональную строку.

**Принцип работы**:
   - Определяет `MediaListType` как список кортежей. Каждый кортеж содержит объект типа `ImageType` (изображение) и опциональную строку (например, описание изображения).

## Классы

### `Image`

```python
class Image:
    pass
```

**Описание**: Заглушка для класса `PIL.Image.Image`, если библиотека Pillow не установлена.

**Принцип работы**:
   - Определяет пустой класс `Image`, который используется в случае, если не удается импортировать `PIL.Image`.

## Функции

В данном модуле нет функций.

## Примеры

Примеры использования определенных типов:

```python
from typing import List, Dict, Union, Optional
from pathlib import Path

# Пример использования SHA256
sha256_hash: SHA256 = "e5b7b865d5b3c8a8a7d6a8a7b8c8a7d6a8a7b8c8a7d6a8a7b8c8a7d6a8a7b8c"

# Пример использования Messages
messages: Messages = [
    {
        "role": "user",
        "content": "Hello, how are you?"
    },
    {
        "role": "assistant",
        "content": "I'm doing well, thank you!"
    }
]

# Пример использования Cookies
cookies: Cookies = {"session_id": "12345", "user_id": "67890"}

# Пример использования ImageType
image_path: ImageType = "path/to/image.jpg"
image_bytes: ImageType = b"\xff\xd8\xff\xe0..."
image_file: ImageType = open("image.jpg", "rb")
image_path_like: ImageType = Path("image.jpg")

# Пример использования MediaListType
media_list: MediaListType = [
    (image_path, "Description of image"),
    (image_bytes, None)
]
```