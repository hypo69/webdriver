# Модуль отладки

## Обзор

Модуль предоставляет функции для отладки и логирования сообщений, ошибок и других данных в процессе работы приложения. Он позволяет включать и выключать логирование, устанавливать обработчик логов и сохранять логи в список.

## Подробнее

Этот модуль используется для централизованного управления логированием в проекте. Он предоставляет гибкие настройки для включения/выключения логирования, установки пользовательского обработчика логов и записи логов в память для последующего анализа.
Использование модуля позволяет упростить процесс отладки и мониторинга работы приложения.

## Переменные

### `logging`

**Описание**: Флаг, определяющий, включено ли логирование. По умолчанию `False`.

### `version_check`

**Описание**: Флаг, определяющий, нужно ли проверять версию. По умолчанию `True`.

### `version`

**Описание**: Строка, содержащая информацию о версии. Может быть `None`.

### `log_handler`

**Описание**: Обработчик логов, который вызывается для записи логов. По умолчанию используется функция `print`.

### `logs`

**Описание**: Список, в котором сохраняются логи.

## Функции

### `log`

```python
def log(*text: Any, file: Optional[Any] = None) -> None:
    """Log a message if logging is enabled.

    Args:
        *text (Any): Сообщения для логирования.
        file (Optional[Any], optional): Файл для записи логов. По умолчанию `None`.
    """
```

**Назначение**: Записывает сообщение в лог, если включено логирование.

**Параметры**:
- `*text` (Any): Переменное количество аргументов, представляющих собой сообщения для логирования.
- `file` (Optional[Any], optional): Необязательный аргумент, представляющий собой файл для записи логов. По умолчанию `None`.

**Возвращает**:
- `None`

**Как работает функция**:

1. **Проверка флага логирования**: Проверяется, включено ли логирование (`if logging:`).
2. **Вызов обработчика логов**: Если логирование включено, вызывается функция `log_handler` с передачей ей сообщений (`*text`) и файла (`file`).

**ASCII flowchart**:

```
Логирование включено?
  |
  Нет: Конец
  |
  Да: Вызов log_handler с сообщениями и файлом
  |
  Конец
```

**Примеры**:

```python
# Включение логирования
logging = True

# Запись сообщения в лог
log("Сообщение для лога")

# Запись нескольких сообщений в лог
log("Сообщение 1", "Сообщение 2")
```

### `error`

```python
def error(*error: Any, name: Optional[str] = None) -> None:
    """Log an error message to stderr.

    Args:
        *error (Any): Сообщения об ошибках.
        name (Optional[str], optional): Имя ошибки. По умолчанию `None`.
    """
```

**Назначение**: Записывает сообщение об ошибке в stderr (стандартный поток ошибок).

**Параметры**:
- `*error` (Any): Переменное количество аргументов, представляющих собой сообщения об ошибках.
- `name` (Optional[str], optional): Необязательный аргумент, представляющий собой имя ошибки. По умолчанию `None`.

**Возвращает**:
- `None`

**Как работает функция**:

1. **Форматирование сообщений об ошибках**:
   - Преобразует каждое сообщение об ошибке в строку.
   - Если сообщение не является строкой, форматирует его, добавляя имя типа ошибки (если `name` не указано) или указанное имя.
2. **Логирование сообщений об ошибках**: Вызывает функцию `log` для записи отформатированных сообщений об ошибках в `sys.stderr`.

**ASCII flowchart**:

```
Начало
  |
  Цикл по сообщениям об ошибках
  |
  Сообщение - строка?
  |
  Да: Использовать сообщение
  |
  Нет: Форматировать сообщение (добавить имя типа/имя)
  |
  Конец цикла
  |
  Вызов log с сообщениями об ошибках и sys.stderr
  |
  Конец
```

**Примеры**:

```python
# Запись сообщения об ошибке
error("Произошла ошибка")

# Запись сообщения об ошибке с именем ошибки
error("Произошла ошибка", name="MyError")

# Запись нескольких сообщений об ошибках
error("Ошибка 1", "Ошибка 2")