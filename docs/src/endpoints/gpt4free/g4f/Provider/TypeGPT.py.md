# Модуль TypeGPT для g4f

## Обзор

Модуль `TypeGPT` предоставляет класс `TypeGPT`, который является подклассом `OpenaiTemplate` и предназначен для взаимодействия с сервисом TypeGPT. Он определяет параметры подключения, заголовки запросов, а также список поддерживаемых моделей, включая модели для работы с изображениями.

## Подробней

Модуль определяет настройки для взаимодействия с сервисом TypeGPT, включая URL, базовый URL API, заголовки запросов и список поддерживаемых моделей. Класс `TypeGPT` наследует функциональность из `OpenaiTemplate`, что позволяет использовать общие механизмы для работы с API OpenAI-подобных сервисов. Этот модуль используется для обеспечения доступа к моделям TypeGPT через библиотеку `g4f`.

## Классы

### `TypeGPT`

**Описание**: Класс `TypeGPT` является адаптером для работы с сервисом TypeGPT. Он наследует `OpenaiTemplate` и предоставляет специфичные для TypeGPT настройки и методы.

**Наследует**:

- `OpenaiTemplate`: Предоставляет базовую функциональность для взаимодействия с OpenAI-подобными API.

**Атрибуты**:

- `label` (str): Метка провайдера, значение `"TypeGpt"`.
- `url` (str): URL сервиса TypeGPT, значение `"https://chat.typegpt.net"`.
- `api_base` (str): Базовый URL API TypeGPT, значение `"https://chat.typegpt.net/api/openai/v1"`.
- `working` (bool): Флаг, указывающий на работоспособность провайдера, значение `True`.
- `headers` (dict): Словарь заголовков HTTP-запросов, используемых для взаимодействия с API.
- `default_model` (str): Модель, используемая по умолчанию, значение `'gpt-4o-mini-2024-07-18'`.
- `default_vision_model` (str): Модель для работы с изображениями, используемая по умолчанию, значение `default_model`.
- `vision_models` (List[str]): Список моделей, поддерживающих работу с изображениями, включая `'gpt-3.5-turbo'`, `'gpt-3.5-turbo-202201'`, `default_vision_model` и `"o3-mini"`.
- `fallback_models` (List[str]): Список моделей, используемых в случае недоступности основных моделей, включая `vision_models` и `["deepseek-r1", "deepseek-v3", "evil"]`.
- `image_models` (List[str]): Список моделей, предназначенных для генерации изображений, значение `["Image-Generator"]`.
- `model_aliases` (Dict[str, str]): Словарь псевдонимов моделей, где `"gpt-4o-mini"` соответствует `"gpt-4o-mini-2024-07-18"`, а `"evil"` соответствует `"uncensored-r1"`.

**Методы**:

- `get_models(**kwargs)`: Получает список доступных моделей из API TypeGPT.

## Функции

### `get_models`

```python
@classmethod
def get_models(cls, **kwargs):
    """
    Получает список доступных моделей из API TypeGPT.

    Args:
        **kwargs: Дополнительные аргументы (не используются).

    Returns:
        List[str]: Список доступных моделей.

    Как работает функция:
    1. Проверяет, был ли уже получен список моделей (хранится в `cls.models`).
    2. Если список моделей не был получен, выполняет HTTP-запрос к `f"{cls.url}/api/config"`.
    3. Извлекает строку `customModels` из JSON-ответа и разделяет ее на список моделей.
    4. Оставляет только те модели, которые начинаются с `"+"` и не входят в список `image_models`.
    5. Удаляет символ `"+"` и часть строки после символа `"@"`, чтобы получить имя модели.
    6. Возвращает полученный список моделей.

    ASCII flowchart:

    Проверка наличия cls.models
    |
    Нет
    |
    HTTP-запрос к API config
    |
    Извлечение customModels
    |
    Фильтрация моделей
    |
    Удаление префиксов и суффиксов
    |
    Сохранение и возврат списка моделей
    |
    Да
    |
    Возврат существующего списка моделей
    

    Примеры:

    >>> TypeGPT.get_models()
    ['gpt-3.5-turbo', 'gpt-4o-mini-2024-07-18', ...]
    """
    ...