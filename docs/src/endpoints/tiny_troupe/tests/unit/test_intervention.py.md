# Модуль тестирования интервенций `test_intervention.py`

## Обзор

Модуль содержит набор модульных тестов для проверки функциональности класса `Intervention` и его взаимодействия с другими компонентами системы `tinytroupe`, такими как `ABRandomizer`, `Proposition`, `TinyWorld` и агентами, созданными с использованием функций `create_oscar_the_architect` и `create_lisa_the_data_scientist`. Тесты проверяют, как интервенции могут изменять поведение агентов в виртуальном мире в зависимости от заданных условий.

## Подробней

Этот файл содержит модульные тесты, предназначенные для проверки работы класса `Intervention` в системе `tinytroupe`. `Intervention` позволяет изменять поведение агентов в виртуальном мире в зависимости от определенных условий. Тесты проверяют, как интервенции влияют на мышление и действия агентов, а также убеждаются, что изменения соответствуют ожидаемым результатам. Используются различные инструменты, такие как `ABRandomizer` для случайного выбора вариантов поведения, `Proposition` для проверки утверждений о состоянии агентов и `TinyWorld` для моделирования виртуального мира.

## Функции

### `test_intervention_1`

```python
def test_intervention_1():
    """
    Тестирует базовую интервенцию, изменяющую тему разговора Оскара, когда он грустит.

    Args:
        None

    Returns:
        None

    Raises:
        AssertionError: Если утверждение о поведении Оскара не соответствует ожидаемому.
    """
```

**Как работает функция**:

1. **Создание агента**: Создается агент Оскар с использованием функции `create_oscar_the_architect`.
2. **Первоначальное состояние**: Оскар выражает грусть и действует в соответствии с этим состоянием.
3. **Проверка первоначального состояния**: Проверяется, говорит ли Оскар о чем-то печальном или неудачном.
4. **Определение интервенции**: Создается интервенция, которая изменяет тему разговора Оскара, если он не очень счастлив.
5. **Создание мира**: Создается виртуальный мир с Оскаром и заданной интервенцией.
6. **Запуск мира**: Виртуальный мир запускается на несколько шагов (2 шага).
7. **Проверка измененного состояния**: Проверяется, говорит ли Оскар о чем-то, что приносит ему радость или счастье.

```
Начало теста
     ↓
Создание Оскара
     ↓
Оскар выражает грусть
     ↓
Проверка: говорит ли Оскар о грустном
     ↓
Создание интервенции: изменить тему, если Оскар не счастлив
     ↓
Создание мира с Оскаром и интервенцией
     ↓
Запуск мира на 2 шага
     ↓
Проверка: говорит ли Оскар о радостном
     ↓
Конец теста
```

**Примеры**:

```python
# Пример вызова функции (не требуется параметров)
test_intervention_1()