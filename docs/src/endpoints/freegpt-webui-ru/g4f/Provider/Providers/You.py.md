# Модуль для взаимодействия с You.com
## Обзор

Модуль предоставляет функциональность для взаимодействия с моделью `gpt-3.5-turbo` через API `You.com`. Он использует подпроцесс для выполнения Python-скрипта `you.py`, который, в свою очередь, взаимодействует с `You.com` для получения ответов модели.

## Подробнее

Модуль предназначен для отправки запросов к `You.com` и получения ответов в потоковом режиме. Он использует подпроцесс для запуска отдельного Python-скрипта (`you.py`), который выполняет фактическое взаимодействие с API `You.com`. Это позволяет избежать блокировки основного процесса и обеспечивает асинхронное получение ответов. Модуль поддерживает потоковую передачу данных, что позволяет получать ответы по частям, не дожидаясь завершения всего запроса.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """Создает запрос к You.com и возвращает ответ в потоковом режиме.

    Args:
        model (str): Название модели (в данном случае `gpt-3.5-turbo`).
        messages (list): Список сообщений для отправки в запросе.
        stream (bool): Флаг, указывающий, нужно ли возвращать ответ в потоковом режиме.
        **kwargs: Дополнительные параметры.

    Returns:
        Generator[str, None, None]: Генератор строк, содержащих ответ от You.com.

    Как работает функция:
     1. Функция получает путь к текущему файлу.
     2. Преобразует список сообщений в JSON-строку.
     3. Формирует команду для запуска подпроцесса с использованием Python-скрипта `you.py`.
     4. Запускает подпроцесс и перехватывает его вывод.
     5. Итерируется по строкам вывода подпроцесса и возвращает их в потоковом режиме.
    

    Примеры:

    >>> messages = [{'role': 'user', 'content': 'Привет'}]
    >>> generator = _create_completion(model='gpt-3.5-turbo', messages=messages, stream=True)
    >>> for chunk in generator:
    ...     print(chunk, end='')
    Привет! Как я могу помочь тебе сегодня?
    """
```

**Параметры**:

-   `model` (str): Название модели.
-   `messages` (list): Список сообщений для отправки.
-   `stream` (bool): Флаг потоковой передачи.
-   `**kwargs`: Дополнительные параметры.

**Возвращает**:

-   `Generator[str, None, None]`: Генератор строк с ответом.

**ASCII схема работы функции**:

```
Начало
   ↓
Получение пути к файлу
   ↓
Преобразование сообщений в JSON
   ↓
Формирование команды для подпроцесса
   ↓
Запуск подпроцесса
   ↓
Перехват вывода подпроцесса
   ↓
Итерация по строкам вывода
   ↓
Конец (возврат генератора)