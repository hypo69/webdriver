# Модуль для работы с провайдером Gravityengine
## Обзор

Модуль предоставляет функциональность для взаимодействия с сервисом Gravityengine, используя его API для генерации текста на основе предоставленных сообщений. Поддерживается потоковая передача данных.

## Подробней

Модуль содержит функции для отправки запросов к API Gravityengine и получения ответов. Он определяет параметры, необходимые для подключения и использования API, такие как URL, поддерживаемые модели и необходимость аутентификации. Этот модуль используется для интеграции с Gravityengine в проекте `hypotez`.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """
    Функция для создания запроса к API Gravityengine и получения ответа.

    Args:
        model (str): Идентификатор модели, используемой для генерации текста.
        messages (list): Список сообщений, используемых в качестве контекста для генерации текста.
        stream (bool): Флаг, указывающий, нужно ли использовать потоковую передачу данных.
        **kwargs: Дополнительные параметры.

    Returns:
        Generator[str, None, None]: Генератор, возвращающий сгенерированный текст.

    Raises:
        requests.exceptions.RequestException: В случае ошибки при отправке запроса.
    """
```

**Назначение**: Создание запроса к API Gravityengine для генерации текста на основе предоставленных сообщений.

**Параметры**:
- `model` (str): Идентификатор модели, используемой для генерации текста.
- `messages` (list): Список сообщений, используемых в качестве контекста для генерации текста.
- `stream` (bool): Флаг, указывающий, нужно ли использовать потоковую передачу данных.
- `**kwargs`: Дополнительные параметры.

**Возвращает**:
- `Generator[str, None, None]`: Генератор, возвращающий сгенерированный текст.

**Вызывает исключения**:
- `requests.exceptions.RequestException`: В случае ошибки при отправке запроса.

**Как работает функция**:

1.  Формирует заголовки запроса, указывая тип контента как JSON.
2.  Формирует данные запроса, включая модель, температуру, штраф за присутствие и сообщения.
3.  Отправляет POST-запрос к API Gravityengine по указанному URL.
4.  Получает ответ в формате JSON и извлекает сгенерированный текст из поля `content`.
5.  Возвращает сгенерированный текст.

```
Формирование заголовков и данных запроса
↓
Отправка POST-запроса к API Gravityengine
↓
Получение ответа в формате JSON
↓
Извлечение сгенерированного текста из поля 'content'
↓
Возврат сгенерированного текста
```

**Примеры**:

```python
messages = [{"role": "user", "content": "Hello, how are you?"}]
for chunk in _create_completion(model='gpt-3.5-turbo-16k', messages=messages, stream=True):
    print(chunk)
```

### `params`

```python
params = f\'g4f.Providers.{os.path.basename(__file__)[:-3]} supports: \' + \
    \'(%s)\' % \', \'.join([f"{name}: {get_type_hints(_create_completion)[name].__name__}" for name in _create_completion.__code__.co_varnames[:_create_completion.__code__.co_argcount]])
```

**Назначение**: Формирование строки с информацией о поддерживаемых параметрах функции `_create_completion`.

**Как работает**:
1.  Получает имя текущего файла модуля без расширения `.py`.
2.  Формирует строку, содержащую имя модуля и информацию о поддерживаемых параметрах функции `_create_completion`.
3.  Использует `get_type_hints` для получения аннотаций типов параметров функции `_create_completion`.
4.  Создает строку, содержащую имена параметров и их типы.
5.  Объединяет все строки в одну строку `params`.

**Примеры**:

```python
print(params)