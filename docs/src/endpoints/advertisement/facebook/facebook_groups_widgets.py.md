# Модуль для создания виджета с группами Facebook

## Обзор

Модуль `facebook_groups_widgets.py` предоставляет класс `FacebookGroupsWidget`, который создает выпадающий список с URL групп Facebook на основе данных, загруженных из JSON-файла. Этот виджет предназначен для использования в интерфейсах, где требуется выбор одной из предопределенных групп Facebook.

## Подробней

Модуль упрощает процесс выбора URL группы Facebook, предоставляя готовый виджет выпадающего списка. Данные о группах загружаются из JSON-файла, что позволяет легко добавлять и изменять список групп без изменения кода. Класс использует библиотеки `ipywidgets` для создания интерактивного элемента и `src.utils.jjson` для загрузки данных из JSON.

## Классы

### `FacebookGroupsWidget`

**Описание**: Класс для создания и отображения выпадающего списка с группами Facebook.

**Принцип работы**:
1.  При инициализации класса загружаются данные о группах из JSON-файла с использованием функции `j_loads_ns` из модуля `src.utils.jjson`.
2.  Создается виджет выпадающего списка (`Dropdown`) на основе загруженных данных.
3.  Виджет отображается с использованием функции `display` из библиотеки `IPython.display`.

**Атрибуты**:

*   `groups_data` (SimpleNamespace): Объект, содержащий данные о группах Facebook, загруженные из JSON-файла.
*   `dropdown` (Dropdown): Виджет выпадающего списка с URL групп Facebook.

**Методы**:

*   `__init__(self, json_file_path: Path)`: Инициализирует виджет, загружает данные о группах из JSON-файла и создает выпадающий список.
*   `create_dropdown(self) -> Dropdown`: Создает и возвращает виджет выпадающего списка на основе данных о группах.
*   `display_widget(self)`: Отображает виджет выпадающего списка.

### `__init__`

```python
def __init__(self, json_file_path: Path):
    """
    Инициализация виджета с выпадающим списком для групп Facebook.

    Args:
        json_file_path (Path): Путь к JSON-файлу, содержащему информацию о группах Facebook.
    """
    ...
```

**Назначение**: Инициализация экземпляра класса `FacebookGroupsWidget`.

**Параметры**:

*   `json_file_path` (Path): Путь к JSON-файлу, содержащему данные о группах Facebook.

**Как работает функция**:

1.  Присваивает атрибуту `self.groups_data` пространство имен, полученное из JSON-файла, используя функцию `j_loads_ns`.
2.  Вызывает метод `self.create_dropdown()` для создания выпадающего списка и присваивает его атрибуту `self.dropdown`.

**Примеры**:

```python
from pathlib import Path
# Допустим, у вас есть файл groups.json в текущей директории
file_path = Path("groups.json")
widget = FacebookGroupsWidget(file_path)
```

### `create_dropdown`

```python
def create_dropdown(self) -> Dropdown:
    """ Создает и возвращает виджет выпадающего списка на основе данных групп.

    Returns:
        Dropdown: Виджет выпадающего списка с URL групп Facebook.
    """
    ...
```

**Назначение**: Создает виджет выпадающего списка на основе данных о группах Facebook.

**Возвращает**:

*   `Dropdown`: Виджет выпадающего списка с URL групп Facebook.

**Как работает функция**:

1.  Извлекает ключи (URL групп) из атрибута `self.groups_data.__dict__` и преобразует их в список.
2.  Создает экземпляр класса `Dropdown` из библиотеки `ipywidgets`, передавая список URL групп в качестве опций.
3.  Устанавливает описание виджета как 'Facebook Groups:'.
4.  Устанавливает параметр `disabled` в `False`, чтобы виджет был активен.
5.  Возвращает созданный виджет выпадающего списка.

**Примеры**:

```python
dropdown = widget.create_dropdown()
```

### `display_widget`

```python
def display_widget(self):
    """ Отображает виджет выпадающего списка."""
    ...
```

**Назначение**: Отображает виджет выпадающего списка.

**Как работает функция**:

1.  Использует функцию `display` из библиотеки `IPython.display` для отображения виджета `self.dropdown`.

**Примеры**:

```python
widget.display_widget()