# Документация для разработчика: Обучение Discord бота

## Обзор

Данный документ предоставляет пошаговую инструкцию по обучению и использованию Discord бота, разработанного в рамках проекта `hypotez`. Он охватывает процесс запуска бота, приглашения на сервер, подготовки данных для обучения, использования команд обучения и тестирования, а также управления данными и взаимодействием с обученной моделью через команды вопросов и ответов.

## Подробней

Этот код описывает, как обучить и использовать Discord-бота.
- В начале убедитесь, что бот запущен и имеет необходимые права на сервере Discord.
- Подготовьте данные для обучения в виде текста или файлов.
- Используйте команду `!train` для начала обучения, указав данные напрямую или загрузив файл.
- После обучения используйте команду `!test` для проверки модели с тестовыми данными.
- Дополнительно можно использовать команды `!archive` и `!select_dataset` для управления файлами и наборами данных.
- Чтобы добавить возможность задавать вопросы боту и получать ответы, необходимо реализовать команду `!ask`, которая будет взаимодействовать с обученной моделью.

## Инструкция

### Пошаговая инструкция

#### Шаг 1: Убедитесь, что бот запущен

Убедитесь, что ваш бот запущен. В консоли должно отображаться сообщение, указывающее на то, что бот вошел в систему.

```plaintext
Logged in as YourBotName#1234
```

#### Шаг 2: Пригласите бота на свой сервер

Убедитесь, что бот приглашен на ваш сервер с необходимыми разрешениями для чтения и отправки сообщений.

#### Шаг 3: Подготовьте данные для обучения

Вы можете обучить модель, используя текстовые данные или файлы, содержащие данные для обучения.

1.  **Обучение с использованием текстовых данных**:
    Подготовьте строку текстовых данных, которые вы хотите использовать для обучения.

2.  **Обучение с использованием файла**:
    Подготовьте файл, содержащий данные для обучения. Убедитесь, что файл доступен на вашем локальном компьютере.

#### Шаг 4: Используйте команду обучения

**Метод 1: Использование текстовых данных напрямую**

1.  В канале Discord, к которому имеет доступ бот, введите следующую команду:

    ```plaintext
    !train "Ваши данные для обучения здесь" positive=True
    ```

    Пример:

    ```plaintext
    !train "Пример данных для обучения" positive=True
    ```

**Метод 2: Загрузка файла**

1.  Прикрепите файл, содержащий данные для обучения, к сообщению.

2.  В том же сообщении введите следующую команду и отправьте:

    ```plaintext
    !train positive=True
    ```

    Пример:

    ```plaintext
    !train positive=True
    ```

Бот сохранит файл и начнет обучение модели с предоставленными данными.

#### Шаг 5: Отслеживайте обучение

После отправки команды обучения бот должен ответить сообщением, указывающим на статус задания обучения:

```plaintext
Обучение модели началось. ID задания: <job_id>
```

#### Шаг 6: Проверьте статус обучения

При необходимости вы можете добавить дополнительные команды в свой бот, чтобы проверить статус задания обучения. Обычно это включает в себя запрос объекта модели для получения статуса задания.

#### Шаг 7: Протестируйте модель

После того, как модель обучена, вы можете протестировать ее с помощью команды `test`.

1.  Подготовьте строку JSON тестовых данных.
2.  В канале Discord, к которому имеет доступ бот, введите следующую команду:

    ```plaintext
    !test {"test_key": "test_value"}
    ```

    Пример:

    ```plaintext
    !test {"input": "Тестовые входные данные"}
    ```

Бот ответит прогнозами модели.

#### Шаг 8: Используйте дополнительные команды

Ваш бот также поддерживает другие команды, такие как архивирование файлов и выбор наборов данных. Используйте эти команды аналогично для управления своими данными и моделью.

**Архивирование файлов**:

```plaintext
!archive <путь_к_директории>
```

Пример:

```plaintext
!archive /путь/к/директории
```

**Выбор набора данных**:

```plaintext
!select_dataset <путь_к_директории_positive> positive=True
```

Пример:

```plaintext
!select_dataset /путь/к/positive_данным positive=True
```

### Итог

1.  **Запустите бота**: Убедитесь, что ваш бот запущен.
2.  **Пригласите бота**: Убедитесь, что бот находится на вашем сервере Discord.
3.  **Подготовьте данные**: Подготовьте свои данные для обучения в виде текста или в файле.
4.  **Обучите модель**: Используйте команду `!train` либо с текстовыми данными, либо с прикрепленным файлом.
5.  **Отслеживайте обучение**: Ищите ответ бота о статусе задания обучения.
6.  **Протестируйте модель**: Используйте команду `!test` с тестовыми данными, чтобы проверить производительность модели.
7.  **Управляйте данными**: Используйте команды `!archive` и `!select_dataset` по мере необходимости.

Чтобы взаимодействовать с вашей обученной моделью через бота, вам нужно добавить команду, которая позволит пользователям задавать вопросы и получать ответы. Вот пошаговое руководство о том, как этого достичь:

### Руководство по добавлению команды "Вопрос-Ответ"

1.  **Запустите бота**: Убедитесь, что ваш бот запущен.

2.  **Задайте вопрос**:
    В канале Discord, к которому имеет доступ бот, введите следующую команду:

    ```plaintext
    !ask Какой капитал Франции?
    ```

3.  **Получите ответ**:
    Бот должен ответить ответом модели:

    ```plaintext
    Ответ модели: Капитал Франции - Париж.
    ```

### Итог

1.  **Добавьте команду `ask`**:
    *   Обновите скрипт своего бота, чтобы включить команду `ask`.
    *   Реализуйте метод `ask` в своем классе `Model`, чтобы запросить модель и вернуть ответ.

2.  **Запустите бота**:
    *   Запустите своего бота, чтобы сделать его доступным на вашем сервере Discord.

3.  **Задавайте вопросы**:
    *   Используйте команду `!ask`, чтобы взаимодействовать с обученной моделью и получать ответы.

Выполнив эти шаги, вы сможете задавать вопросы своей обученной модели через своего Discord-бота и получать ответы.