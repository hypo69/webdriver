# Модуль для создания простого Telegram-бота с использованием Pyrogram
=====================================================================

Модуль содержит основной код для создания и запуска Telegram-бота с использованием библиотеки Pyrogram.
Бот умеет отвечать на команду `/start` и эхом повторять все остальные текстовые сообщения.

## Обзор

Этот модуль предназначен для создания простого Telegram-бота, который отвечает на команду `/start` приветственным сообщением и повторяет все остальные текстовые сообщения, полученные от пользователя. Он использует библиотеку Pyrogram для взаимодействия с Telegram API.

## Подробнее

Этот код является отправной точкой для создания более сложного Telegram-бота. Он демонстрирует основные принципы работы с Pyrogram, такие как создание клиента, регистрация обработчиков сообщений и запуск бота.

## Функции

### `start_command`

```python
def start_command(client, message):
    """
    Обработчик команды /start.

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, представляющий команду /start.

    Returns:
        None

    Raises:
        None
    """
```

**Назначение**: Обрабатывает команду `/start`, отправляя приветственное сообщение пользователю.

**Параметры**:
- `client`: Экземпляр клиента Pyrogram, используемый для взаимодействия с Telegram API.
- `message`: Объект сообщения, содержащий информацию о полученном сообщении, включая текст команды и данные об отправителе.

**Возвращает**:
- `None`

**Вызывает исключения**:
- Не вызывает исключений.

**Как работает функция**:
1. Функция `start_command` регистрируется как обработчик для команды `/start`.
2. Когда бот получает сообщение, начинающееся с `/start`, эта функция вызывается автоматически.
3. Функция использует метод `reply_text` объекта `message`, чтобы отправить ответное сообщение "Привет! Я простой бот на Pyrogram." пользователю.

```text
start_command
 |
 reply_text("Привет! Я простой бот на Pyrogram.")
 |
Конец
```

**Примеры**:
1. Пользователь отправляет боту сообщение `/start`. Бот отвечает: "Привет! Я простой бот на Pyrogram."

### `echo_message`

```python
def echo_message(client, message):
    """
    Обработчик всех текстовых сообщений (кроме команд).

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, содержащий текст сообщения.

    Returns:
        None

    Raises:
        None
    """
```

**Назначение**: Обрабатывает все текстовые сообщения, которые не являются командами, и отправляет их обратно пользователю.

**Параметры**:
- `client`: Экземпляр клиента Pyrogram, используемый для взаимодействия с Telegram API.
- `message`: Объект сообщения, содержащий информацию о полученном сообщении, включая текст сообщения и данные об отправителе.

**Возвращает**:
- `None`

**Вызывает исключения**:
- Не вызывает исключений.

**Как работает функция**:
1. Функция `echo_message` регистрируется как обработчик для всех текстовых сообщений, которые не являются командами.
2. Когда бот получает текстовое сообщение, не начинающееся с `/`, эта функция вызывается автоматически.
3. Функция использует метод `reply_text` объекта `message`, чтобы отправить то же самое сообщение обратно пользователю.

```text
echo_message
 |
 reply_text(message.text)
 |
Конец
```

**Примеры**:
1. Пользователь отправляет боту сообщение "Привет!". Бот отвечает: "Привет!".
2. Пользователь отправляет боту сообщение "Как дела?". Бот отвечает: "Как дела?".

## Переменные

### `API_ID`

```python
API_ID = int(os.environ.get("TELEGRAM_API_ID",\'\'))
```

**Описание**: Идентификатор API Telegram, необходимый для аутентификации бота.
Получается из переменной окружения `TELEGRAM_API_ID`. Если переменная не задана, используется пустая строка.
Тип: `int`

### `API_HASH`

```python
API_HASH = os.environ.get("TELEGRAM_API_HASH",\'\')
```

**Описание**: Хэш API Telegram, необходимый для аутентификации бота.
Получается из переменной окружения `TELEGRAM_API_HASH`. Если переменная не задана, используется пустая строка.
Тип: `str`

### `BOT_TOKEN`

```python
BOT_TOKEN = os.environ.get("TELEGRAM_TOKEN",\'\')
```

**Описание**: Токен бота Telegram, необходимый для аутентификации бота.
Получается из переменной окружения `TELEGRAM_TOKEN`. Если переменная не задана, используется пустая строка.
Тип: `str`

### `app`

```python
app = Client(
    "my_simple_bot",
    api_id=API_ID,
    api_hash=API_HASH,
    bot_token=BOT_TOKEN
)
```

**Описание**: Экземпляр клиента Pyrogram, используемый для взаимодействия с Telegram API.
Тип: `Client`