
# any2dict: Рекурсивное преобразование любого типа данных в словарь (или список)

Модуль предоставляет функцию `any2dict`, которая рекурсивно преобразует любые данные в словарь (если входные данные являются словарем) или в список/кортеж (если входные данные являются списком, кортежем или множеством).  Если преобразование невозможно или содержит неподдерживаемые типы данных, возвращается `False`.

## Назначение

Функция `any2dict` предназначена для того, чтобы:

-   Разбирать сложные структуры данных (словарь, списки, кортежи, множества) в более простой формат словаря (списка).
-   Обрабатывать вложенные структуры данных рекурсивно.
-   Преобразовывать вложенные ключи словарей, приводя их к примитивным типам.
-   Предотвращать ошибки при преобразовании типов данных, которые не могут быть представлены в виде словаря.

## Использование

```python
from any2dict import any2dict

# Пример 1: Преобразование словаря
data1 = {
    "name": "John",
    "age": 30,
    "address": {
        "city": "New York",
        "street": "Main St",
        "numbers":[1,2,3]
    },
    "phones": ["123-456-7890", "987-654-3210"],
    "skills": {"python", "java", "c++"}
}

result1 = any2dict(data1)
print(result1)
# Вывод: {'name': 'John', 'age': 30, 'address': {'city': 'New York', 'street': 'Main St', 'numbers': [1, 2, 3]}, 'phones': ['123-456-7890', '987-654-3210'], 'skills': ['python', 'java', 'c++']}

# Пример 2: Преобразование списка
data2 = [1, 2, "three", {"key": "value"}]
result2 = any2dict(data2)
print(result2)
# Вывод: [1, 2, 'three', {'key': 'value'}]

# Пример 3: Преобразование базовых типов данных
data3 = 123
result3 = any2dict(data3)
print(result3)
# Вывод: 123

data4 = "string"
result4 = any2dict(data4)
print(result4)
# Вывод: string

data5 = None
result5 = any2dict(data5)
print(result5)
# Вывод: None

# Пример 4: Попытка преобразовать неподдерживаемый тип данных (вернет False)
class MyClass:
    def __init__(self, x):
        self.x = x

data6 = MyClass(10)
result6 = any2dict(data6)
print(result6)
# Вывод: False

# Пример 5: Попытка преобразовать вложенный словарь, где один из элементов нельзя преобразовать (вернет False)
data7 = {"a": 1, "b": MyClass(2)}
result7 = any2dict(data7)
print(result7)
# Вывод: False
```

## Функция `any2dict(any_data)`

### Аргументы

- `any_data`: Любой тип данных, который требуется преобразовать.

### Возвращаемое значение

-   Возвращает словарь (`dict`), список (`list`) или `set`, если входные данные успешно преобразованы в словарь, список или множество соответственно.
-   Возвращает базовые типы данных (int, float, str, bool, None) без изменений, если они были переданы на вход.
-   Возвращает `False` в следующих случаях:
    -  Если входные данные не являются словарем, списком, кортежем, множеством, int, float, str, bool или None.
    -  Если какой-либо из вложенных элементов невозможно преобразовать.
    -  Если какой-либо из ключей словаря невозможно преобразовать в примитивный тип.

## Описание работы

1.  **Базовые случаи:** Если входные данные - это `int`, `float`, `str`, `bool`, или `None`, функция возвращает их без изменений.

2.  **Словари:**
    -   Если входные данные - это словарь, функция создает новый словарь.
    -   Для каждой пары ключ-значение в исходном словаре, она рекурсивно вызывает `any2dict` для ключа и значения, чтобы преобразовать их.
    -   Если любой из ключей или значений невозможно преобразовать (вернется `False`), функция немедленно возвращает `False`.
    -   После преобразования всех пар, она возвращает новый словарь.

3.  **Списки и кортежи:**
    -   Если входные данные - это список или кортеж, функция создает новый список.
    -   Для каждого элемента в списке или кортеже, она рекурсивно вызывает `any2dict` для преобразования.
     -  Если любой из элементов невозможно преобразовать (вернется `False`), функция немедленно возвращает `False`.
    -   После преобразования всех элементов, она возвращает новый список.

4. **Множества:**
    -  Если входные данные - это множество, функция создает новый список.
    -   Для каждого элемента в множестве, она рекурсивно вызывает `any2dict` для преобразования.
    -  Если любой из элементов невозможно преобразовать (вернется `False`), функция немедленно возвращает `False`.
    -   После преобразования всех элементов, она возвращает новый список.

5. **Неподдерживаемые типы:**
    -   Для всех остальных типов данных, функция возвращает `False`.

## Зависимости

Модуль не имеет никаких внешних зависимостей.


## Автор
[hypo69]

## Лицензия
[MIT]
